"use strict";(self.webpackChunkextension=self.webpackChunkextension||[]).push([[2949],{95067:(e,t,r)=>{r.d(t,{_:()=>p});var n,o=r(51911),a=r(44194),i=r(99128);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l.apply(this,arguments)}const s=function(e){return a.createElement("svg",l({width:"1em",height:"1em",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),n||(n=a.createElement("path",{d:"M3.048 16.767A10.242 10.242 0 012 12.233 10.203 10.203 0 0112.233 2c2.604 0 4.93.977 6.744 2.558L16 7.535a5.916 5.916 0 00-3.767-1.349 6.035 6.035 0 00-6.047 6.047 6.035 6.035 0 006.047 6.047c2.837 0 4.976-1.443 5.488-3.954h-5.488v-3.954h9.534c.14.605.233 1.256.233 1.86 0 6.512-4.651 10.233-9.767 10.233-4.044 0-7.52-2.315-9.185-5.698z",fill:"currentcolor",fillRule:"evenodd"})))};var c;function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u.apply(this,arguments)}const d=function(e){return a.createElement("svg",u({width:"1em",height:"1em",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),c||(c=a.createElement("g",{fill:"none",fillRule:"evenodd"},a.createElement("path",{d:"M3.048 16.267A10.242 10.242 0 012 11.733c0-1.631.376-3.17 1.048-4.534L6.489 9.83a6.072 6.072 0 00-.303 1.903c0 .665.106 1.304.303 1.902l-3.441 2.632z",fill:"#FBBC05"}),a.createElement("path",{d:"M3.048 7.199A10.203 10.203 0 0112.233 1.5c2.604 0 4.93.977 6.744 2.558L16 7.035a5.916 5.916 0 00-3.767-1.349A6.035 6.035 0 006.489 9.83L3.048 7.2z",fill:"#EA4335"}),a.createElement("path",{d:"M3.046 16.264l3.44-2.638a6.035 6.035 0 005.747 4.153c2.837 0 4.976-1.442 5.488-3.953h-5.488V9.872h9.534c.14.605.233 1.256.233 1.86 0 6.512-4.651 10.233-9.767 10.233a10.203 10.203 0 01-9.187-5.701z",fill:"#34A853"}),a.createElement("path",{d:"M18.902 19.417l-3.267-2.53c1.068-.674 1.811-1.714 2.086-3.061h-5.488V9.872h9.534c.14.605.233 1.256.233 1.86 0 3.336-1.22 5.939-3.098 7.685z",fill:"#4285F4"}))))};var v=a.createElement,p=function(e){return v(i.ZP,(0,o.Z)({},e,{IconPrimary:s,IconSecondary:d}))}},93981:(e,t,r)=>{r.r(t),r.d(t,{SearchPanel:()=>Ye,default:()=>Ue});var n,o=r(98935),a=r(28076),i=r(44194),l=r(83849),s=r.n(l),c=r(83689),u=r(51911),d=r(68983),v=r(16789),p=r(99128),f=r(81139),m=r(92416),g=r(53640),h=r(47597),y=r(57336),b=r(14960),x=r(31329),w=r(25989),O=function(){},N=(0,i.createContext)({provider:w.xQ.Posts,providerText:void 0,providerIcon:void 0,query:"",isActive:!1,setProvider:O,setActive:O}),P=r(62916),k=r(65378),S=r(58022),E=i.createElement,j=function(e){var t=e.className,r=e.keys,n=(0,i.useState)(!1),o=n[0],a=n[1];return(0,i.useEffect)((function(){a(!0)}),[]),o?E("div",{className:s()(t,"flex")},r.map((function(e,t){return E(i.Fragment,{key:e},E("kbd",{className:"flex min-w-5 justify-center rounded-8 border border-border-subtlest-tertiary bg-background-subtle px-2 py-0.5 font-sans text-text-tertiary typo-footnote"},e),t!==r.length-1&&E("span",{className:"mx-1 py-0.5 text-text-tertiary typo-footnote"},"+"))}))):null},q=r(53767),Z=r(30386);function A(){return A=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},A.apply(this,arguments)}const C=function(e){return i.createElement("svg",A({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),n||(n=i.createElement("g",{fillRule:"evenodd",clipRule:"evenodd",fill:"currentColor"},i.createElement("path",{d:"M17.793 3.708a3.145 3.145 0 002.488 2.453l1.268.244c.599.116.602.97.004 1.098l-1.266.27c-.125.027-.248.061-.368.102l-.06.021c-.096.035-.19.074-.28.118l-.172.088-.208.126-.191.136-.126.102-.156.142-.178.187-.034.04a3.19 3.19 0 00-.695 1.442l-.252 1.27a.544.544 0 01-.402.435l-.097.017-.097.001a.54.54 0 01-.502-.442l-.262-1.265A3.145 3.145 0 0013.72 7.84l-1.268-.244c-.599-.115-.602-.97-.004-1.098l1.266-.27c.367-.078.71-.218 1.018-.41l.124-.083c.2-.136.383-.295.546-.472l.156-.184.124-.168.138-.22.044-.079.074-.147.023-.051.03-.064.002-.006c.083-.197.147-.405.19-.62l.251-1.27c.12-.6.974-.608 1.098-.01l.262 1.264zm-.795 1.926c.357.54.822.998 1.366 1.347l-.264.188-.196.159-.229.208-.24.253-.058.067-.008.01a4.705 4.705 0 00-.369.499 4.65 4.65 0 00-1.366-1.346l.06-.04.007-.005a4.67 4.67 0 00.804-.696l.019-.02.209-.246.188-.255.077-.123zM9.743 8.62l.367 1.771a4.404 4.404 0 003.483 3.435l1.776.341c.838.162.843 1.36.006 1.537l-1.773.378a4.482 4.482 0 00-.515.143l-.085.03a4.467 4.467 0 00-.392.164l-.24.124-.291.176-.268.19-.177.143-.218.2-.248.261-.048.056a4.467 4.467 0 00-.974 2.019l-.353 1.778a.762.762 0 01-.563.609l-.134.024-.137.001a.755.755 0 01-.702-.618L7.89 19.61a4.404 4.404 0 00-3.483-3.435l-1.776-.341c-.838-.162-.843-1.359-.006-1.537l1.773-.378c.514-.11.994-.306 1.425-.574l.174-.117c.28-.191.536-.413.764-.661l.219-.257.173-.235.194-.308.062-.111.103-.206.032-.071c.014-.03.028-.06.04-.09l.003-.007c.117-.276.207-.567.267-.869l.353-1.778c.166-.84 1.363-.851 1.536-.016zm-.752 3.194a5.905 5.905 0 003.196 3.151 6.003 6.003 0 00-.223.1l-.02.01-.306.158-.383.231-.352.25-.246.2-.291.265-.312.328-.071.083-.008.01a5.976 5.976 0 00-.966 1.588 5.905 5.905 0 00-3.196-3.15c.28-.12.547-.26.802-.418l.024-.015.196-.132.008-.006a5.94 5.94 0 001.022-.884l.02-.02.27-.32.238-.322.245-.388.097-.174.132-.264.045-.1.08-.18z"}))))};var Q;function _(){return _=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_.apply(this,arguments)}const I=function(e){return i.createElement("svg",_({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),Q||(Q=i.createElement("g",{fillRule:"evenodd",clipRule:"evenodd",fill:"currentColor"},i.createElement("path",{d:"M17.793 3.708a3.145 3.145 0 002.488 2.453l1.268.244c.599.116.602.97.004 1.098l-1.266.27c-.125.027-.248.061-.368.102l-.06.021c-.096.035-.19.074-.28.118l-.172.088-.208.126-.191.136-.126.102-.156.142-.178.187-.034.04a3.19 3.19 0 00-.695 1.442l-.252 1.27a.544.544 0 01-.402.435l-.097.017-.097.001a.54.54 0 01-.502-.442l-.262-1.265A3.145 3.145 0 0013.72 7.84l-1.268-.244c-.599-.115-.602-.97-.004-1.098l1.266-.27c.367-.078.71-.218 1.018-.41l.124-.083c.2-.136.383-.295.546-.472l.156-.184.124-.168.138-.22.044-.079.074-.147.023-.051.03-.064.002-.006c.083-.197.147-.405.19-.62l.251-1.27c.12-.6.974-.608 1.098-.01l.262 1.264zM9.743 8.62l.367 1.771a4.404 4.404 0 003.483 3.435l1.776.341c.838.162.843 1.36.006 1.537l-1.773.378a4.482 4.482 0 00-.515.143l-.085.03a4.467 4.467 0 00-.392.164l-.24.124-.291.176-.268.19-.177.143-.218.2-.248.261-.048.056a4.467 4.467 0 00-.974 2.019l-.353 1.778a.762.762 0 01-.563.609l-.134.024-.137.001a.755.755 0 01-.702-.618L7.89 19.61a4.404 4.404 0 00-3.483-3.435l-1.776-.341c-.838-.162-.843-1.359-.006-1.537l1.773-.378c.514-.11.994-.306 1.425-.574l.174-.117c.28-.191.536-.413.764-.661l.219-.257.173-.235.194-.308.062-.111.103-.206.032-.071c.014-.03.028-.06.04-.09l.003-.007c.117-.276.207-.567.267-.869l.353-1.778c.166-.84 1.363-.851 1.536-.016z"}))))};var L,T,R=i.createElement,z=function(e){return R(p.ZP,(0,u.Z)({},e,{IconPrimary:C,IconSecondary:I}))},D=r(95067),M=["className"],F=["className"],J=i.createElement,B=w.xQ.Posts,H=(L={},(0,a.Z)(L,w.xQ.Posts,"Search posts"),(0,a.Z)(L,w.xQ.Chat,"Ask daily.dev AI"),(0,a.Z)(L,w.xQ.Tags,"Search tags"),(0,a.Z)(L,w.xQ.Google,"Search on Google"),(0,a.Z)(L,w.xQ.Sources,"Search sources"),L),X=(T={},(0,a.Z)(T,w.xQ.Posts,Z.W),(0,a.Z)(T,w.xQ.Chat,(function(e){var t=e.className,r=(0,q.Z)(e,M);return J(z,(0,u.Z)({className:s()(t,"bg-gradient-to-t from-accent-onion-default to-accent-cabbage-default text-white"),secondary:!0},r))})),(0,a.Z)(T,w.xQ.Tags,Z.W),(0,a.Z)(T,w.xQ.Google,(function(e){var t=e.className,r=(0,q.Z)(e,F);return J(D._,(0,u.Z)({className:s()(t,"bg-white"),secondary:!0},r))})),(0,a.Z)(T,w.xQ.Sources,Z.W),T),G=i.createElement;function W(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function V(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?W(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var K,Y,U=V(V({},X),{},(0,a.Z)({},w.xQ.Posts,void 0)),$=function(e){var t=e.className,r=(0,i.useContext)(N);if(r.providerIcon)return r.providerIcon;var n=U[r.provider];return n?G(n,{className:s()(t,"rounded-8 p-1"),size:p.Jh.Large}):null},ee=r(40170),te=i.createElement,re=function(e){var t=e.className,r=(0,i.useContext)(N),n=(0,ee.C)();if(!r.providerText)return null;var o=null==n?void 0:n.sanitize;return te("div",{className:s()(null==t?void 0:t.main,"pointer-events-none absolute left-14 flex h-10")},te("span",{"aria-hidden":"true",className:s()(null==t?void 0:t.input,"invisible typo-body")},r.query),!!o&&te("div",{className:"ml-0.5 flex items-center rounded-4 bg-overlay-quaternary-cabbage px-1"},te("span",{className:"text-text-tertiary typo-footnote",dangerouslySetInnerHTML:{__html:o(r.providerText)}})))},ne=r(93309),oe=r(62699),ae=r.n(oe),ie=r(22925),le=(K={},(0,a.Z)(K,w.xQ.Posts,w.YX),(0,a.Z)(K,w.xQ.Tags,w.Rv),(0,a.Z)(K,w.xQ.Sources,w.af),K),se=(Y={},(0,a.Z)(Y,w.xQ.Posts,(function(e){return e.searchPostSuggestions})),(0,a.Z)(Y,w.xQ.Tags,(function(e){return e.searchTagSuggestions})),(0,a.Z)(Y,w.xQ.Sources,(function(e){return e.searchSourceSuggestions})),Y),ce=function(){var e=(0,c.useRouter)(),t=(0,ie.Y)().requestMethod;return{search:(0,i.useCallback)((function(t){var r=t.provider,n=t.query;e.push((0,w.Tt)({query:n,provider:r}))}),[e]),getSuggestions:(0,i.useCallback)(function(){var e=(0,ne.Z)(ae().mark((function e(r){var n,o,a,i,l,s,c;return ae().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.provider,o=r.query,a=r.limit,i=void 0===a?w.qQ:a,s=se[n],(l=le[n])&&s){e.next=5;break}return e.abrupt("return",{hits:[]});case 5:return e.next=7,t(l,{query:o,limit:i});case 7:return c=e.sent,e.abrupt("return",s(c));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t])}},ue=r(84187),de=r(40701),ve=function(e){var t=e.provider,r=e.text,n=e.icon,o=(0,i.useContext)(N),a=function(){o.setProvider({provider:t,text:r||H[t],icon:n})},l=function(){o.setProvider({provider:void 0})};return{onMouseEnter:a,onMouseLeave:l,onFocus:function(e){(null==e?void 0:e.target)instanceof HTMLElement&&e.target.setAttribute("data-search-panel-active","true");a()},onBlur:function(e){(null==e?void 0:e.target)instanceof HTMLElement&&e.target.removeAttribute("data-search-panel-active");l()}}},pe=i.createElement,fe=[(0,S.ad)()?"âŒ˜":"Ctrl","K"],me=function(e){var t=e.className,r=e.inputProps,n=e.valueChanged,o=e.children,a=ce().search,l=(0,i.useContext)(N),c=(0,i.useRef)(),O=(0,y.fv)().logEvent,E=r||{},q=E.value,Z=E.readOnly,A=E.disabled,C=E.onFocus,Q=E.onBlur,_=E.onClick,I=E.placeholder,L=void 0===I?l.isActive?"Search posts or ask a question...":"Search":I,T=(0,h.i)(q,n),R=T.inputRef,z=T.focused,D=T.hasInput,M=T.onFocus,F=T.onBlur,J=T.onInput,X=T.setInput,G=(0,b.Eu)(),W=G.isLoggedIn,V=G.showLogin,K=(0,P.V)(P.d.Laptop);(0,k.O)(globalThis,"click",(function(e){(0,S.le)(c.current)||c.current.contains(e.target)||!c.current||(F(),l.setActive({isActive:!1}))}));var Y=l.isActive&&l.query.length>=w.RX;(0,k.O)(globalThis,"keydown",(function(e){var t,r;(0,S.IN)({event:e})&&"k"===e.key&&(e.preventDefault(),l.isActive?(null===(t=R.current)||void 0===t||t.blur(),l.setActive({isActive:!1})):(null===(r=R.current)||void 0===r||r.focus(),l.setActive({isActive:!0}),O({event_name:v.gr.KeyboardShortcutTriggered,target_id:v.LT.SearchActivation})))})),(0,k.O)(globalThis,"keydown",(function(e){var t;"Escape"===e.key&&(e.preventDefault(),l.isActive&&(null===(t=R.current)||void 0===t||t.blur(),l.setActive({isActive:!1})))}));var U=ve({provider:void 0,text:H[B]});return pe("div",{className:s()(null==t?void 0:t.container)},pe("form",{onSubmit:function(e,t){var r,n;if(e.preventDefault(),!W)return V({trigger:x.IP.SearchInput});var o=null!=t?t:R.current.value,i=null!==(r=l.provider)&&void 0!==r?r:B;return O({event_name:v.gr.SubmitSearch,extra:JSON.stringify({query:o,provider:i})}),X(o),l.setActive({isActive:!1}),null===(n=R.current)||void 0===n||n.blur(),a({provider:i,query:o})},className:s()(null==t?void 0:t.form,"relative w-full")},pe(d.n,{className:s()("relative h-12 items-center rounded-12 !bg-background-subtle !px-3 laptop:border laptop:py-1 laptop:backdrop-blur-[3.75rem]",null==t?void 0:t.field,{focused:z},l.isActive&&"!border-border-subtlest-tertiary laptop:shadow-2",l.isActive&&Y?"laptop:rounded-b-none laptop:rounded-t-16":"laptop:rounded-16"),ref:c},pe(m.p,{size:p.Jh.Large,className:"mr-3 text-text-tertiary"}),pe(d._,(0,u.Z)({},r,{"data-search-panel-item":"true",placeholder:L,ref:R,onFocus:function(e){M(),null==C||C(e),U.onFocus(e),O({event_name:v.gr.FocusSearch})},onBlur:function(e){F(),null==Q||Q(e),U.onBlur(e)},onClick:function(e){W||V({trigger:x.IP.SearchInput}),null==_||_(e)},onInput:J,type:"primary",autoComplete:"off",className:s()("h-full flex-1",l.isActive?"!placeholder-text-quaternary":"!placeholder-text-tertiary",(0,f.rI)({readOnly:Z,disabled:A,hasInput:D,focused:z}))})),pe("div",{className:s()("flex h-full items-center bg-background-subtle",l.isActive&&"-mr-2")},l.isActive&&!!l.query&&pe(ue.zx,{id:"search-panel-input-clear-button",type:"button",className:"mr-2",size:de.qE.XSmall,title:"Clear query",onClick:function(e){var t;e.stopPropagation(),X(""),null===(t=R.current)||void 0===t||t.focus()},icon:pe(g.R,{secondary:!0})}),l.isActive&&pe("div",{className:"flex h-full items-center border-l border-surface-float laptop:hidden"},pe(ue.zx,{type:"button",onClick:function(){l.setActive({isActive:!1})}},"Cancel"))),pe("div",{className:"z-1 hidden items-center gap-3 laptop:flex"},!l.isActive&&pe(j,{keys:fe}),l.isActive&&l.query.length>=w.RX&&pe(i.Fragment,null,K&&pe(re,null),pe($,{className:"ml-2"})))),o))},ge=["children"],he=i.createElement,ye=function(e){var t=e.children,r=(0,q.Z)(e,ge);return he("button",(0,u.Z)({type:"button","data-search-panel-item":"true"},r),t)},be=["icon","children"],xe=i.createElement,we=function(e){var t=e.icon,r=e.children,n=(0,q.Z)(e,be);return xe(ye,(0,u.Z)({},n,{className:s()(n.className,"flex w-full items-center gap-2 overflow-hidden rounded-12 p-2 hover:bg-surface-float focus:bg-surface-float laptop:text-text-tertiary")}),!!t&&t,r)},Oe=i.createElement,Ne=function(e){var t=e.provider,r=(0,i.useContext)(N),n=X[t],o=ce().search,a=ve({provider:t}),l=t===B,c=!r.provider&&l,d=(0,y.fv)().logEvent;return Oe(we,(0,u.Z)({icon:Oe(n,{className:"rounded-6 p-0.5",size:p.Jh.Small}),onClick:function(){d({event_name:v.gr.SubmitSearch,extra:JSON.stringify({query:r.query,provider:t})}),o({provider:t,query:r.query})},className:s()(c&&"bg-surface-float"),"data-search-panel-item":!l,tabIndex:l?-1:void 0},a),Oe("span",{className:"flex-shrink overflow-hidden overflow-ellipsis whitespace-nowrap typo-callout"},r.query," ",Oe("span",{className:"text-text-quaternary typo-footnote"},H[t])))},Pe=r(86422),ke=r(84663);function Se(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Se(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var je=function(e){var t=e.provider,r=e.query,n=e.limit,o=void 0===n?w.qQ:n,a=(0,b.Eu)().user,l=ce().getSuggestions,s=(0,Pe.a)((0,ke.e0)(ke.dt.Search,a,"suggestions",{provider:t,query:r}),(0,ne.Z)(ae().mark((function e(){return ae().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",l({provider:t,query:r,limit:o}));case 1:case"end":return e.stop()}}),e)}))),{enabled:(null==r?void 0:r.length)>=w.RX,staleTime:ke.R.Default,select:(0,i.useCallback)((function(e){var t;return e?Ee(Ee({},e),{},{hits:(null==e||null===(t=e.hits)||void 0===t?void 0:t.slice(0,o))||[]}):e}),[o])}),c=s.data;return{isLoading:s.isLoading,suggestions:c}},qe=r(84153),Ze=["suggestion"],Ae=i.createElement,Ce=function(e){var t=e.suggestion,r=(0,q.Z)(e,Ze),n=ve({provider:w.xQ.Posts,text:t.title}),o=(0,ee.C)(),a=null==o?void 0:o.sanitize;return Ae(we,(0,u.Z)({},r,{icon:Ae(Z.W,null)},n),!!a&&Ae("span",{className:"flex-shrink overflow-hidden overflow-ellipsis whitespace-nowrap typo-subhead [&>strong]:text-text-primary",dangerouslySetInnerHTML:{__html:a(t.title)}}))},Qe=function(e){var t,r,n=e.className,o=e.title,a=(0,c.useRouter)(),l=(0,i.useContext)(y.ZP).logEvent,u=(0,i.useContext)(N),d=ce().search,p=je({provider:w.xQ.Posts,query:u.query}).suggestions;return null!=p&&null!==(t=p.hits)&&void 0!==t&&t.length?Ae("div",{className:s()(n,"flex flex-col")},Ae("div",{className:"relative my-2 flex items-center justify-start gap-2"},Ae("hr",{className:"w-2 border-border-subtlest-tertiary"}),Ae("span",{className:"relative inline-flex font-bold typo-footnote"},o),Ae("hr",{className:"flex-1 border-border-subtlest-tertiary"})),null==p||null===(r=p.hits)||void 0===r?void 0:r.map((function(e){return Ae(Ce,{key:e.title,suggestion:e,onClick:function(){!function(e){var t=e.title.replace(w.F4,"");if(e.id)return l({event_name:v.gr.Click,target_type:v.Lm.SearchRecommendation,target_id:e.id,feed_item_title:t,extra:JSON.stringify({origin:v.aP.HomePage,provider:w.xQ.Posts})}),void a.push("".concat(qe.uJ,"posts/").concat(e.id));d({provider:w.xQ.Posts,query:t})}(e)}})}))):null},_e=r(82703),Ie=r(364),Le=["provider","children"],Te=i.createElement,Re=function(e){var t=e.provider,r=e.children,n=(0,q.Z)(e,Le),o=ve({provider:t});return Te(we,(0,u.Z)({},n,o),r)},ze=r(73110),De=i.createElement,Me=function(e){var t=e.suggestion,r=e.onClick,n=ve({provider:w.xQ.Tags,text:t.title});return De(ye,(0,u.Z)({},n,{onClick:r}),De(ze.k,{key:t.id,tag:t.id,buttonProps:{onClick:function(e){e.preventDefault()}}}))},Fe=function(e){var t,r,n=e.className,o=e.title,a=(0,c.useRouter)(),l=(0,i.useContext)(y.ZP).logEvent,u=(0,i.useContext)(N),d=je({provider:w.xQ.Tags,query:u.query,limit:5}).suggestions;return null!=d&&null!==(t=d.hits)&&void 0!==t&&t.length?De("div",{className:s()(n,"flex flex-col")},De("div",{className:"relative my-2 flex items-center justify-start gap-2"},De("hr",{className:"w-2 border-border-subtlest-tertiary"}),De("span",{className:"relative inline-flex font-bold typo-footnote"},o),De("hr",{className:"flex-1 border-border-subtlest-tertiary"})),De("div",{className:"flex-start flex flex-wrap gap-2 p-2"},null==d||null===(r=d.hits)||void 0===r?void 0:r.map((function(e){return De(Me,{key:e.title,suggestion:e,onClick:function(t){t.preventDefault(),function(e){var t=e.id||e.title.toLowerCase();l({event_name:v.gr.Click,target_type:v.Lm.SearchRecommendation,target_id:t,feed_item_title:t,extra:JSON.stringify({origin:v.aP.HomePage,provider:w.xQ.Tags})}),a.push("".concat(qe.uJ,"tags/").concat(t))}(e)}})})))):null},Je=r(94789),Be=["suggestion"],He=i.createElement,Xe=function(e){var t=e.suggestion,r=(0,q.Z)(e,Be),n=function(){return He(Je.E,{loading:"lazy",src:t.image,alt:"".concat(t.title," logo"),className:"size-7 rounded-full"})},o=ve({provider:w.xQ.Sources,text:t.title,icon:He(n,null)});return He(we,(0,u.Z)({icon:He(n,null)},o,r),He("div",{className:"flex w-full flex-col items-start"},He("span",{className:"flex-shrink overflow-hidden overflow-ellipsis whitespace-nowrap font-bold text-text-primary typo-subhead"},t.title),He("span",{className:"text-text-quarternary typo-footnote"},"@",t.subtitle)))},Ge=function(e){var t,r,n=e.className,o=e.title,a=(0,c.useRouter)(),l=(0,i.useContext)(y.ZP).logEvent,u=(0,i.useContext)(N),d=je({provider:w.xQ.Sources,query:u.query,limit:3}).suggestions;return null!=d&&null!==(t=d.hits)&&void 0!==t&&t.length?He("div",{className:s()(n,"flex flex-col")},He("div",{className:"relative my-2 flex items-center justify-start gap-2"},He("hr",{className:"w-2 border-border-subtlest-tertiary"}),He("span",{className:"relative inline-flex font-bold typo-footnote"},o),He("hr",{className:"flex-1 border-border-subtlest-tertiary"})),null==d||null===(r=d.hits)||void 0===r?void 0:r.map((function(e){return He(Xe,{key:e.title,suggestion:e,onClick:function(){!function(e){var t=e.id||e.subtitle.toLowerCase();l({event_name:v.gr.Click,target_type:v.Lm.SearchRecommendation,target_id:t,feed_item_title:t,extra:JSON.stringify({origin:v.aP.HomePage,provider:w.xQ.Sources})}),a.push("".concat(qe.uJ,"sources/").concat(t))}(e)}})}))):null},We=i.createElement;function Ve(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ke(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ve(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ye=function(e){var t=e.className;(0,i.useContext)(_e.ZP);var r=ce().search,n=(0,c.useRouter)().query,l=(0,y.fv)().logEvent,u=(0,i.useState)((function(){return{provider:void 0,query:"",isActive:!1,providerText:void 0,providerIcon:void 0}})),d=u[0],p=u[1],f=(0,i.useRef)();(0,i.useEffect)((function(){var e,t=null==n||null===(e=n.q)||void 0===e?void 0:e.toString();t&&p((function(e){return e.query?e:Ke(Ke({},e),{},{query:t})}))}),[null==n?void 0:n.q]);var m=(0,i.useMemo)((function(){return Ke(Ke({},d),{},{setProvider:function(e){var t=e.provider,r=e.text,n=e.icon;p((function(e){return Ke(Ke({},e),{},{provider:t,providerText:r||void 0,providerIcon:n||void 0})}))},setActive:function(e){var t=e.isActive;p((function(e){return Ke(Ke({},e),{},{isActive:t})}))}})}),[d]);(0,k.O)(f,"keydown",(function(e){var t;if(d.isActive&&f.current){var r=(0,o.Z)(f.current.querySelectorAll('[data-search-panel-item="true"]')),n=r.findIndex((function(e){return"true"===e.getAttribute("data-search-panel-active")}));-1===n&&(n=0);var i=(t={},(0,a.Z)(t,S.k1.Up,-1),(0,a.Z)(t,S.k1.Down,1),t);0!==n&&(i[S.k1.Left]=-1,i[S.k1.Right]=1);var l=Object.keys(i).find((function(t){return t===e.key}));if(l){e.preventDefault();var s=r[n+i[l]];s&&s.focus()}}}));var g=d.isActive&&d.query.length>=w.RX;return We(N.Provider,{value:m},We("div",{ref:f,className:s()(null==t?void 0:t.container,"flex flex-col"),"data-testid":"search-panel"},We(me,{className:{container:s()("w-full laptop:w-[26.25rem] laptop:max-w-[29.5rem] laptopL:w-full laptopL:max-w-[35rem]"),field:null==t?void 0:t.field},valueChanged:function(e){p((function(t){return Ke(Ke({},t),{},{query:e,provider:void 0,providerText:H[B],providerIcon:void 0})}))},inputProps:{value:d.query,onFocus:function(){m.setActive({isActive:!0})}}},g&&We("div",{className:s()("absolute w-full items-center rounded-b-16 border-0 border-border-subtlest-tertiary bg-background-default px-3 py-2 laptop:h-auto laptop:border-x laptop:border-b laptop:bg-background-subtle laptop:shadow-2")},We("div",{className:"flex flex-1 flex-col"},We(Ne,{provider:w.xQ.Posts}),We(Ne,{provider:w.xQ.Chat}),S.p1&&We(Ne,{provider:w.xQ.Google}),We(Fe,{title:"Tags"}),We(Qe,{title:"Posts on daily.dev"}),We(Ge,{title:"Sources"}),We(Re,{provider:w.xQ.Posts,onClick:function(){l({event_name:v.gr.SubmitSearch,extra:JSON.stringify({query:d.query,provider:w.xQ.Posts})}),r({provider:w.xQ.Posts,query:d.query})}},We("div",{className:"flex items-center justify-center text-text-tertiary typo-subhead"},"See more posts ",We(Ie.e0,{className:"!size-4 rotate-90"}))))))))};const Ue=Ye}}]);