"use strict";(self.webpackChunkextension=self.webpackChunkextension||[]).push([[8620],{59850:(e,t,a)=>{a.r(t),a.d(t,{default:()=>S});var n=a(93309),r=a(62699),o=a.n(r),s=a(44194),l=a(78487),i=a(40701),c=a(84187),d=a(30413),u=a(83235),m=a(93835),p=a(94789),g=a(35882),h=a(50756),f=a(97343),x=(a(84153),a(1057)),v=a(5824),y=a(43245),b=a(58022),w=a(45794),k=a(71370),C=a(16789),N=a(11719),P=a(25827),U=s.createElement,E={error:"Something went wrong, try again later",throttled:"There is no extension update available, try again later",no_update:"Your extension is already the latest and greatest. You're awesome ðŸŽ‰",update_available:"Browser extension updated ðŸŽ‰"};const S=function(){var e,t,r=(0,b.Uv)(),s=(0,g.o)(),S=s.latestPost,T=s.dismiss,B=s.toggleUpvote,Z=(0,f.sW)(),z=(0,l.D)((0,n.Z)(o().mark((function e(){var t,n,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;break;case 2:if(r){e.next=4;break}throw new Error("updateExtension can only be used inside the extension runtime");case 4:return e.next=6,Promise.resolve().then(a.t.bind(a,31729,23)).then((function(e){return e.default}));case 6:return t=e.sent,e.next=9,t.runtime.sendMessage({type:h.j.RequestUpdate});case 9:n=e.sent,(s=E[n.status])&&Z.displayToast(s);case 12:case"end":return e.stop()}}),e)}))),{onError:function(){Z.displayToast(E.error)}}),q=z.mutateAsync,R=z.isLoading,W=function(){var e=(0,n.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q();case 2:return e.next=4,T();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=(0,n.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B({payload:S,origin:C.aP.ChangelogPopup});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return!!S&&U(k.Z,{position:k.p.LeftEnd,className:"ml-6 w-[24rem] max-w-[360px] border border-accent-cabbage-default bg-accent-pepper-subtlest shadow-2 focus:outline-none","data-testid":"changelog",onClose:T,closeButton:{variant:i.Wu.Tertiary}},U("header",{className:"flex flex-1 items-center border-b border-border-subtlest-tertiary px-4 py-3"},U("h3",{className:"font-bold text-text-primary typo-title3","data-testid":"changelogNewReleaseTag"},"New release")),U("section",{className:"flex h-full max-h-full flex-1 shrink flex-col p-5"},U(p.E,{className:"h-[108px] w-[207px] rounded-8 object-cover",alt:"Post cover image",src:S.image,fallbackSrc:u.n.post.imageCoverPlaceholder,loading:"lazy","data-testid":"changelogImage"}),U("h3",{className:"mt-3 font-normal text-text-primary typo-title3","data-testid":"changelogTitle"},S.title),U(P.t,{"data-testid":"changelogDate",date:S.createdAt,type:m.lf.Post,className:"text-text-quaternary typo-callout"}),!!S.summary&&U("div",{className:"w mt-2 text-text-tertiary typo-callout","data-testid":"changelogSummary"},S.summary),U("div",{className:"mt-4 flex"},U(N.s,{id:"post-".concat(S.id,"-upvote-btn"),icon:U(x.o,{secondary:(null==S||null===(e=S.userState)||void 0===e?void 0:e.vote)===w.hn.Up}),pressed:(null==S||null===(t=S.userState)||void 0===t?void 0:t.vote)===w.hn.Up,onClick:j,size:i.qE.Small,className:"btn-tertiary-avocado","data-testid":"changelogUpvotesButton"},U(y.Z,{value:S.numUpvotes>0&&S.numUpvotes,"data-testid":"changelogUpvotesCounter"})),U(N.s,{id:"post-".concat(S.id,"-comment-btn"),icon:U(v.l,{secondary:S.commented}),pressed:S.commented,tag:"a",href:S.commentsPermalink,onClick:T,size:i.qE.Small,className:"btn-tertiary-blueCheese","data-testid":"changelogCommentsButton"},U(y.Z,{value:S.numComments>0&&S.numComments,"data-testid":"changelogCommentsCounter"})))),U("footer",{className:"flex h-16 w-full items-center justify-between border-t border-border-subtlest-tertiary p-3"},U(c.zx,{onClick:T,tag:"a",href:S.commentsPermalink,"data-testid":"changelogReleaseNotesBtn",variant:i.Wu.Tertiary},"Release notes"),r&&U(c.zx,{tag:void 0,href:void 0,"data-testid":"changelogExtensionBtn",loading:R,onClick:W,variant:i.Wu.Primary,color:d.S.Cabbage},"Update extension")))}}}]);