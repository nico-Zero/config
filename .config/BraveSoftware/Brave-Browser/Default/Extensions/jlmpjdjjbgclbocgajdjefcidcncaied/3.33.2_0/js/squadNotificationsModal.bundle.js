"use strict";(self.webpackChunkextension=self.webpackChunkextension||[]).push([[8521],{29668:(e,t,n)=>{n.r(t),n.d(t,{SquadNotificationsModal:()=>y,default:()=>b});var o=n(51911),s=n(53767),i=n(44194),d=n(42135),a=n(49110),r=n(81172),u=n(63916),c=n(9392),l=n(25077),m=n(84663),f=n(14960),w=n(66315),p=n(52218),h=n(84153),_=["onRequestClose","squad"],N=i.createElement;function y(e){var t=e.onRequestClose,n=e.squad,y=(0,s.Z)(e,_),b=(0,r.H)({params:[{referenceId:null==n?void 0:n.id,notificationType:l.k$.SquadPostAdded},{referenceId:null==n?void 0:n.id,notificationType:l.k$.SquadMemberJoined}],squad:n}),v=b.preferences,k=b.isPreferencesReady,P=b.muteNotification,q=b.clearNotificationPreference,S=b.showSourceFeedPosts,g=b.hideSourceFeedPosts,M=(0,d.NL)(),$=(0,f.Eu)().user,x=M.getQueryData((0,m.e0)(m.dt.Squad,$,null==n?void 0:n.handle)),F=(0,i.useMemo)((function(){var e,t;return{hideFeedPosts:null==x||null===(e=x.currentMember)||void 0===e||null===(t=e.flags)||void 0===t?void 0:t.hideFeedPosts,mutedNewPosts:null==v?void 0:v.some((function(e){return(0,r.$)(e,l.k$.SquadPostAdded,null==n?void 0:n.id,[w.QP.Muted])})),mutedNewMembers:null==v?void 0:v.some((function(e){return(0,r.$)(e,l.k$.SquadMemberJoined,null==n?void 0:n.id,[w.QP.Muted])}))}}),[v,n,x]),I=F.hideFeedPosts,C=F.mutedNewPosts,T=F.mutedNewMembers;return k?N(a.u_,(0,o.Z)({},y,{isOpen:!0,onRequestClose:t,kind:a.u_.Kind.FlexibleCenter,size:a.u_.Size.Small}),N(a.u_.Header,{title:"Notifications"}),N(a.u_.Body,{className:"gap-3"},N(c.r,{"data-testid":"show_new_posts-switch",inputId:"show_new_posts-switch",name:"show_new_posts",className:"w-20",compact:!1,checked:!I,onToggle:I?S:g},"Show new posts on my feed"),N(c.r,{"data-testid":"notify_new_posts-switch",inputId:"notify_new_posts-switch",name:"notify_new_posts",className:"w-20",compact:!1,checked:!C,onToggle:function(){return(C?q:P)({type:l.k$.SquadPostAdded,referenceId:n.id})}},"Notify me about new posts"),n.currentMember.role===u.Pt.Admin&&N(c.r,{"data-testid":"notify_new_members-switch",inputId:"notify_new_members-switch",name:"notify_new_members",className:"w-20",compact:!1,checked:!T,onToggle:function(){return(T?q:P)({type:l.k$.SquadMemberJoined,referenceId:n.id})}},"Notify me about new members"),N("p",{className:"text-text-tertiary typo-callout"},"For more options, go to your",N(p.e,{className:"ml-1",href:"".concat(h.uJ,"account/notifications")},"notifications settings")))):null}const b=y},52218:(e,t,n)=>{n.d(t,{e:()=>c});var o=n(51911),s=n(53767),i=n(44194),d=n(83849),a=n.n(d),r=["className","children"],u=i.createElement;function c(e){var t=e.className,n=e.children,i=(0,s.Z)(e,r);return u("a",(0,o.Z)({},i,{className:a()("text-text-link underline hover:no-underline",t)}),n)}}}]);