"use strict";(self.webpackChunkextension=self.webpackChunkextension||[]).push([[6351],{47307:(e,t,n)=>{n.d(t,{Z:()=>Z});var o=n(93309),r=n(70468),a=n(62699),i=n.n(a),l=n(44194),s=n(24216),c=n(92092),u=n(97468),d=n(86764),m=n(51983),p=n(10404),f=n(57336),v=n(83296),h=n(84221),b=n(16789),g=n(36491),x=n(17702),y=n(56395),N=n(28791),k=n(40701),w=n(79022),P=n(84113),C=n(54480),S=l.createElement;function Z(e){var t=e.post,n=t.commentsPermalink,a=P.A.SharePost,Z=(0,w.r)().getShortUrl,E=(0,m._)(),O=(0,r.Z)(E,2),L=O[0],z=O[1],I=(0,l.useContext)(f.ZP).logEvent,A=(0,x.e)().openModal,q=function(e){return I((0,v.xw)("share post",t,{extra:{provider:e,origin:b.aP.ShareBar}}))},T=function(){var e=(0,o.Z)(i().mark((function e(o){var r,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return q(o),e.next=3,Z(n,a);case 3:r=e.sent,l=(0,p.J9)({provider:o,link:r,text:null==t?void 0:t.title}),window.open(l,"_blank");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=(0,o.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z(n,a);case 2:t=e.sent,z({link:t}),q(p.YE.CopyLink);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return S(h.Hl,{className:"hidden flex-col p-3 laptop:flex"},S("p",{className:"mb-4 text-text-tertiary typo-callout"},"Would you recommend this post?"),S("div",{className:"grid grid-cols-4 gap-2 gap-y-4"},S(y.Q,{size:k.qE.Medium,variant:k.Wu.Tertiary,onClick:R,pressed:L,icon:S(s.T,{className:L&&"text-accent-avocado-default",secondary:L}),label:L?"Copied!":"Copy link"}),S(y.Q,{size:k.qE.Medium,variant:k.Wu.Tertiary,icon:S(c.u,{secondary:!0}),className:"text-white",onClick:function(){return T(p.YE.WhatsApp)},label:"WhatsApp"}),S(y.Q,{size:k.qE.Medium,variant:k.Wu.Tertiary,icon:S(u.V,{secondary:!0}),onClick:function(){return T(p.YE.Facebook)},label:"Facebook"}),S(y.Q,{size:k.qE.Medium,variant:k.Wu.Tertiary,icon:S(d.Z,null),onClick:function(){return T(p.YE.Twitter)},label:"X"}),S(N.P,{size:k.qE.Medium,squadAvatarSize:C.$C.Large,onClick:function(e,n){return function(e){I((0,v.xw)(b.gr.StartShareToSquad,t)),A({type:g.nT.CreateSharedPost,props:{squad:e,preview:t,onSharedSuccessfully:function(){return I((0,v.xw)(b.gr.ShareToSquad,t))}}})}(n)}})))}},62090:(e,t,n)=>{n.d(t,{I:()=>b});var o=n(70468),r=n(44194),a=n(68353),i=n(10150),l=n(51983),s=n(84187),c=n(40701),u=n(30413),d=n(84221),m=n(83296),p=n(16789),f=n(57336),v=n(76979),h=r.createElement;function b(e){var t=e.onCopyPostLink,n=e.post,r=e.link,b=e.origin,g=(0,l._)(r),x=(0,o.Z)(g,1)[0],y=(0,v.h)(b).openSharePost,N=(0,f.fv)().logEvent;return h(d.Hl,{className:"flex flex-col items-start gap-2 p-3 laptop:hidden"},h(s.zx,{size:c.qE.Small,onClick:t,pressed:x,icon:h(a.x,null),variant:c.Wu.Tertiary,color:u.S.Avocado},x?"Copied!":"Copy link"),h(s.zx,{size:c.qE.Small,onClick:function(){N((0,m.xw)(p.gr.StartShareToSquad,n)),y({post:n})},icon:h(i.a,null),variant:c.Wu.Tertiary,color:u.S.Cabbage},"Share with your friends"))}},18461:(e,t,n)=>{n.d(t,{Z:()=>p});var o=n(51911),r=n(53767),a=n(44194),i=n(45557),l=n(59736),s=a.createElement;function c(e){var t,n=e.content,o=e.charactersLimit,r=void 0===o?150:o,i=e.threshold,c=void 0===i?50:i,u=e.contentPrefix,d=e.className,m=(0,a.useState)(!1),p=m[0],f=m[1],v=p?"Show less":"Show more",h=function(){return n&&(null==n?void 0:n.length)>r+c};return s("div",{className:d},s("p",{className:"select-text break-words typo-body"},u,p||!h()?n:(t=null==n?void 0:n.slice(0,r)).slice(0,Math.min(t.length,t.lastIndexOf(" ")))," ",h()&&s(l.D,{className:"inline-flex !text-text-link",onClick:function(){return f(!p)}},v)))}var u=["summary"],d=a.createElement;function m(e,t){var n=e.summary,a=(0,r.Z)(e,u);return d(i.FT,(0,o.Z)({ref:t},a),d(c,{content:n,charactersLimit:330,threshold:50,contentPrefix:d(i.Ni,null,"TLDR")}))}const p=(0,a.forwardRef)(m)},20617:(e,t,n)=>{n.d(t,{q:()=>c});var o=n(44194),r=n(83849),a=n.n(r),i=n(84153),l=n(29393),s=o.createElement,c=function(e){var t=e.className;return s("ul",{className:a()(t,"flex flex-row flex-wrap justify-center gap-3 text-text-tertiary typo-caption1")},s("li",null,"Â© ",(new Date).getFullYear()," Daily Dev Ltd."),s("li",null,s("a",{href:i.L5,target:"_blank",rel:l.yu},"Guidelines")),s("li",null,s("a",{href:"".concat(i.uJ,"posts")},"Explore")),s("li",null,s("a",{href:"".concat(i.uJ,"tags")},"Tags")),s("li",null,s("a",{href:"".concat(i.uJ,"sources")},"Sources")),s("li",null,s("a",{href:"".concat(i.uJ,"squads")},"Squads")),s("li",null,s("a",{href:"".concat(i.uJ,"users")},"Leaderboard")))}},86030:(e,t,n)=>{n.d(t,{Z:()=>E});var o=n(51911),r=n(53767),a=n(44194),i=n(83849),l=n.n(i),s=n(49110);const c="_29h7Y86KWZAFwDQZdpKlfQ==";var u=n(62130),d=n(84221),m=a.createElement,p=function(){return m("article",{"aria-busy":!0,className:"relative flex items-start py-2 pl-4 pr-2"},m(u.f,{className:"w-7 h-7 rounded-full mt-1"}),m("div",{className:"flex flex-col ml-3 mr-2 flex-1"},m(d.P5,{className:"w-4/5"}),m(d.P5,{className:"w-4/5"}),m(d.P5,{className:"w-2/5"})))},f=n(45557),v=a.createElement,h=function(e){var t=e.padding,n=void 0===t?"py-3 px-4":t,o=e.textClassName;return v("article",{"aria-busy":!0,className:l()("relative flex flex-col items-start",n)},v(d.P5,{className:l()("w-4/5",o)}),v(d.P5,{className:l()("w-4/5",o)}),v(d.P5,{className:l()("w-2/5",o)}))},b=n(82278),g=n(58519),x=a.createElement,y=(0,g.Z)("div","flex flex-col flex-1 p-8"),N=function(e){var t=e.children;return x(d.Hl,null,x(d.P5,{className:"my-4 ml-6 w-2/5"}),x(d.Gd,null),t,x(d.Gd,null),x(d.P5,{className:"my-4 ml-6 w-2/5",style:{height:"1.25rem"}}))},k=function(e){var t=e.shouldShowWidgets,n=void 0===t||t,o=e.className;return x(a.Fragment,null,x(y,{className:o},x(u.f,{className:"my-2 mb-8 h-8 w-3/5 rounded-10"}),x(h,{padding:"p-0 gap-2",textClassName:"h-4"}),x("div",{className:"my-8 flex flex-row gap-2"},x(u.f,{className:"h-6 w-20 rounded-10"}),x(u.f,{className:"h-6 w-20 rounded-10"})),x(u.f,{className:"h-52 w-4/5 rounded-16"}),x(u.f,{className:"my-8 h-8 w-2/5 rounded-10"}),x(d.Gd,null),x(b.Z,null)),n&&x(f.ry,{className:"flex-1 p-8"},x(d.P5,null),x(N,null,x(p,null),x(p,null),x(p,null)),x(N,null,x(h,null),x(h,null),x(h,null))))},w=n(47932),P=a.createElement;const C=function(e){var t=e.type,n=e.className,o=e.hasNavigation;return t?P(w.Z,{hasNavigation:o,className:l()(n,"laptop:flex-row laptop:pb-0")},P(k,{className:"tablet:border-r tablet:border-border-subtlest-tertiary"})):null};var S=["className","children","isLoading","postType","source","loadingClassName"],Z=a.createElement;const E=function(e){var t=e.className,n=e.children,a=e.isLoading,i=e.postType,u=(e.source,e.loadingClassName),d=(0,r.Z)(e,S);return Z(s.u_,(0,o.Z)({size:s.u_.Size.XLarge,kind:s.u_.Kind.FlexibleTop,portalClassName:c,id:"post-modal"},d,{overlayClassName:"post-modal-overlay bg-overlay-quaternary-onion",className:l()(t,"laptop: mx-auto !bg-background-default focus:outline-none tablet:h-full laptop:h-auto laptop:overflow-hidden")}),a?Z(C,{hasNavigation:!0,type:i,className:u}):n)}},3570:(e,t,n)=>{n.d(t,{F:()=>We,D:()=>Me});var o=n(51911),r=n(77005),a=n.n(r),i=n(44194),l=n(83849),s=n.n(l),c=n(14931),u=n(70468),d=n(14960),m=n(19220),p=n(88560),f=n(31329),v=n(53767),h=n(83689),b=n(54480),g=n(84187),x=n(40701),y=n(94789),N=n(38722),k=n(57336),w=n(83296),P=n(16789),C=n(45794),S=n(76857),Z=["className","size","onCommented","post"],E=["comment"],O=i.createElement,L={large:x.qE.Medium,medium:x.qE.Small};function z(e,t){var n=e.className,r=e.size,a=void 0===r?b.$C.Large:r,l=e.onCommented,c=e.post,u=(0,v.Z)(e,Z),m=(0,h.useRouter)(),p=(0,k.fv)().logEvent,z=(0,d.Eu)(),I=z.user,A=z.showLogin,q=(0,i.useState)(void 0),T=q[0],R=q[1],F=(0,i.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";p((0,w.xw)(P.gr.OpenComment,c,{extra:{origin:e}})),R(t)}),[c,p,R]),D="string"==typeof m.query.comment;(0,i.useEffect)((function(){if(D&&c.type===C.hQ.Welcome){var e=m.query,t=e.comment,n=(0,v.Z)(e,E);F(P.aP.SquadChecklist,t),m.replace({pathname:m.pathname,query:n},void 0,{shallow:!0})}}),[c,D,F,m]);var j=function(e){return I?F(e):A({trigger:f.IP.NewComment})};if((0,i.useImperativeHandle)(t,(function(){return{onShowInput:j}})),void 0!==T)return O(S.Z,(0,o.Z)({},u,{post:c,className:{input:{container:"my-4",tab:null==n?void 0:n.tab}},onCommented:function(e,t){R(void 0),null==l||l(e,t)},initialContent:T,onClose:function(){return R(void 0)}}));var M="hidden tablet:flex";return O("button",{type:"button",className:s()("flex w-full items-center gap-4 rounded-16 border-t border-border-subtlest-tertiary bg-blur-highlight p-3 typo-callout hover:border-border-subtlest-primary hover:bg-surface-hover tablet:border tablet:bg-surface-float",null==n?void 0:n.container),onClick:function(){return j(P.aP.StartDiscussion)}},I?O(b.YY,{user:I,size:a,nativeLazyLoading:!0,className:M}):O(y.E,{src:N.Zm.avatar,alt:"Placeholder image for anonymous user",className:s()(M,(0,b.o7)(b.$C.Large))}),O("span",{className:"text-text-tertiary"},"Share your thoughts"),O(g.zx,{size:L[a],className:"ml-auto hidden text-text-primary tablet:flex",variant:x.Wu.Secondary,tag:"a",disabled:!0},"Post"))}var I=(0,i.forwardRef)(z),A=n(93309),q=n(62699),T=n.n(q),R=n(42135),F=n(1057),D=n(70944),j=n(5824),M=n(13453),W=n(68353),B=n(11719),U=n(5041),Y=n(78991),$=n(44678),_=n(31079),Q=n(62765),H=n(60681),V=n(59036),K=n(84663),G=n(72110),J=n(30413),X=i.createElement;function ee(e){var t,n,o,r,a,l,c=e.onCopyLinkClick,u=e.post,d=e.actionsClassName,m=void 0===d?"hidden mobileL:flex":d,p=e.onComment,f=e.origin,v=void 0===f?P.aP.ArticlePage:f,h=(0,Q.V)(u),b=h.data,g=h.onShowPanel,y=h.onClose,N=b.showTagsPanel,k=(0,i.useContext)(H._),w=k.queryKey,S=k.items,Z=(0,R.NL)(),E=(0,U.U)({variables:{feedName:w},onMutate:w?function(e){var t=e.id,n=e.vote,o=(0,K.i4)(w,Z);return(0,V.a)({id:t,vote:n,items:S,updatePost:o})}:void 0}),O=E.toggleUpvote,L=E.toggleDownvote,z=(0,G._v)({mutationKey:w,onMutate:w?function(e){var t=e.id,n=(0,K.i4)(w,Z);return(0,G.AM)({id:t,items:S,updatePost:n})}:void 0}).toggleBookmark,I=function(){var e=(0,A.Z)(T().mark((function e(){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z({post:u,origin:v});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=(0,A.Z)(T().mark((function e(){var t;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(null==u||null===(t=u.userState)||void 0===t?void 0:t.vote)===C.hn.None&&y(!0),e.next=3,O({payload:u,origin:v});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=(0,A.Z)(T().mark((function e(){var t;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(null===(t=u.userState)||void 0===t?void 0:t.vote)!==C.hn.Down?g():y(!0),e.next=3,L({payload:u,origin:v});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return X($.Z,{condition:void 0!==N,wrapper:function(e){return X("div",{className:"flex flex-col"},e,X(_.U,{post:u,className:"mt-4",toastOnSuccess:!1}))}},X("div",{className:"flex items-center rounded-16 border border-border-subtlest-tertiary"},X(Y.Zb,{className:s()("flex !flex-row gap-2 hover:border-border-subtlest-tertiary",{"border-accent-avocado-default hover:!border-accent-avocado-default bg-theme-overlay-float-avocado":(null==u||null===(t=u.userState)||void 0===t?void 0:t.vote)===C.hn.Up,"border-accent-ketchup-default hover:!border-accent-ketchup-default bg-theme-overlay-float-ketchup":(null==u||null===(n=u.userState)||void 0===n?void 0:n.vote)===C.hn.Down})},X(B.s,{id:"upvote-post-btn",pressed:(null==u||null===(o=u.userState)||void 0===o?void 0:o.vote)===C.hn.Up,onClick:q,icon:X(F.o,{secondary:(null==u||null===(r=u.userState)||void 0===r?void 0:r.vote)===C.hn.Up}),"aria-label":"Upvote",responsiveLabelClass:m,variant:x.Wu.Tertiary,color:J.S.Avocado}),X(B.s,{id:"downvote-post-btn",pressed:(null==u||null===(a=u.userState)||void 0===a?void 0:a.vote)===C.hn.Down,onClick:ee,icon:X(D.I,{secondary:(null==u||null===(l=u.userState)||void 0===l?void 0:l.vote)===C.hn.Down}),"aria-label":"Downvote",responsiveLabelClass:m,variant:x.Wu.Tertiary,color:J.S.Ketchup})),X("div",{className:"flex flex-1 items-center justify-between px-4 py-2"},X(B.s,{id:"comment-post-btn",pressed:u.commented,onClick:p,icon:X(j.l,{secondary:u.commented}),"aria-label":"Comment",responsiveLabelClass:m,className:"btn-tertiary-blueCheese"},"Comment"),X(B.s,{id:"bookmark-post-btn",pressed:u.bookmarked,onClick:I,icon:X(M.p,{secondary:u.bookmarked}),"aria-label":u.bookmarked?"Remove bookmark":"Bookmark",responsiveLabelClass:m,className:"btn-tertiary-bun"},"Bookmark"),X(B.s,{id:"copy-post-btn",onClick:function(){return c(u)},icon:X(W.x,null),responsiveLabelClass:m,className:"btn-tertiary-cabbage"},"Copy"))))}var te=n(28076),ne=n(86422),oe=n(23043),re=n(22480),ae=n(82278),ie=n(22925),le=n(84153),se=n(5319),ce=n(45557),ue=n(58022),de=i.createElement;function me(e){var t,n,o,r=e.post,a=e.origin,l=e.onShare,s=e.onClickUpvote,c=e.modalParentSelector,u=e.permissionNotificationCommentId,m=e.joinNotificationCommentId,p=e.className,f=void 0===p?{}:p,v=e.onCommented,h=r.id,b=(0,i.useRef)(),g=(0,i.useContext)(d.ZP).tokenRefreshed,x=(0,ie.Y)().requestMethod,y=(0,K.e0)(K.dt.PostComments,null,h),N=(0,ne.a)(y,(function(){var e;return x(oe.nW,(e={postId:h},(0,te.Z)(e,le.UK,k),(0,te.Z)(e,"first",500),e),{requestKey:JSON.stringify(y)})}),{enabled:!!h&&g,refetchInterval:6e4,refetchOnWindowFocus:!1}),k=N.data,w=N.isLoading,P=((null===globalThis||void 0===globalThis||null===(t=globalThis.window)||void 0===t?void 0:t.location)||{}).hash,C=(null==k||null===(n=k.postComments)||void 0===n||null===(o=n.edges)||void 0===o?void 0:o.length)||0,S=(0,i.useRef)(null),Z=(0,se.X)().deleteComment,E=(0,i.useState)(!!P),O=E[0],L=E[1];return(0,i.useEffect)((function(){C>0&&O&&S.current&&(S.current.scrollIntoView({block:"center",inline:"nearest"}),L(!1))}),[C,O]),w||(0,ue.le)(k)?de(ae.Z,{placeholderAmount:r.numComments}):0===C?de("div",{className:"mb-12 mt-8 text-center text-text-quaternary typo-subhead"},"Be the first to comment."):de("div",{className:"mb-12 mt-6 flex flex-col gap-4",ref:b},k.postComments.edges.map((function(e,t){var n,o;return de(re.Z,{className:{commentBox:f},post:r,origin:a,commentHash:P,commentRef:S,comment:e.node,key:e.node.id,onShare:l,onDelete:function(e,t){return Z(e.id,t,r)},onShowUpvotes:s,postAuthorId:null===(n=r.author)||void 0===n?void 0:n.id,postScoutId:null===(o=r.scout)||void 0===o?void 0:o.id,appendTooltipTo:null!=c?c:function(){return null==b?void 0:b.current},permissionNotificationCommentId:u,joinNotificationCommentId:m,onCommented:v,lazy:!P&&t>=ce.ug})})))}var pe=n(59736),fe=n(97021),ve=i.createElement;function he(e){var t=e.post,n=e.onUpvotesClick,o=t.numUpvotes||0,r=t.numComments||0;return o>0||r>0||t.views>0?ve("div",{className:"mb-5 flex items-center gap-x-4 text-text-tertiary typo-callout","data-testid":"statsBar"},t.views>0&&ve("span",null,(0,fe.r)(t.views)," Views"),o>0&&ve(pe.D,{onClick:function(){return n(o)}},(0,fe.r)(o)," Upvote",o>1?"s":""),r>0&&ve("span",null,(0,fe.r)(r)," Comment".concat(1===r?"":"s"))):ve(i.Fragment,null)}var be=n(47831),ge=n(3339),xe=n(58088),ye=n(26598),Ne=n(10404),ke=n(79022),we=n(84113),Pe=i.createElement;function Ce(e){var t=e.post,n=(0,ye.i)(t),o=n.shouldShowOverlay,r=n.onInteract,a=(0,ke.r)({query:{url:t.commentsPermalink,cid:we.A.SharePost,enabled:o}}),i=a.isLoading,l=a.shareLink;return!o||i?null:Pe("div",{className:"mt-6 flex flex-col items-center gap-2 rounded-16 border border-border-subtlest-tertiary px-4 py-2 laptop:flex-row laptop:gap-4"},Pe("span",{className:"font-bold text-text-tertiary typo-callout"},"Should anyone else see this post?"),Pe(xe.J,{className:{container:"w-full flex-1"},link:l,onCopy:r,logProps:(0,w.xw)("share post",t,{extra:{provider:Ne.YE.CopyLink,origin:P.aP.PostContent}})}))}var Se=n(63916),Ze=n(53679),Ee=n(62567),Oe=n(30266),Le=n(83235),ze=i.createElement,Ie=function(e){var t=e.postId,n=(0,i.useContext)(k.ZP).logEvent,o=(0,i.useContext)(d.ZP).user,r=(0,i.useRef)(!1),a=(0,ne.a)((0,K.e0)(K.dt.Ads,o,t),(0,A.Z)(T().mark((function e(){var t,n;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(N.JW,"/v1/a/post"));case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n[0]);case 7:case"end":return e.stop()}}),e)}))),{enabled:!0,refetchOnMount:!1,refetchOnReconnect:!1,refetchOnWindowFocus:!1,staleTime:K.R.OneHour})||{},l=a.isLoading,s=a.data,c=a.isError,u=s||{},m=u.providerId,p=u.source,f=u.image,v=u.description,h=u.pixel,g=u.company,x=u.tagLine;if((0,i.useEffect)((function(){r.current||l||c||(n((0,w.N)("impression",s,{extra:{origin:"post page"}})),r.current=!0)}),[l,c,r,n,s]),c)return null;if(l)return ze(ae.Z,{placeholderAmount:1});return ze("div",{className:"relative mt-6 flex flex-wrap rounded-24 border border-border-subtlest-tertiary p-4 hover:bg-surface-hover focus:outline"},ze(Oe.Z,{ad:s,onLinkClick:function(){n((0,w.N)("click",s,{extra:{origin:"post page"}}))}}),ze(b.YY,{nativeLazyLoading:!0,className:"!inline-block",size:b.$C.Large,user:{id:m,username:p,image:f},fallbackSrc:Le.n.post.imageCoverPlaceholder}),ze("div",{className:"ml-3 inline-block flex-col"},ze(ce.Ys,{className:"commentAuthor flex w-fit font-bold text-text-primary typo-callout"},g),ze(ce.Ys,{className:"flex w-fit text-text-quaternary typo-callout"},"Promoted by ",p)),ze("p",{className:"mt-3 w-full text-text-primary typo-body"},ze("b",null,x),ze("br",null),v),null==h?void 0:h.map((function(e){return ze("img",{src:e,key:e,"data-testid":"pixel",className:"hidden size-0",alt:"Pixel"})})))},Ae=i.createElement,qe=a()((function(){return n.e(3313).then(n.bind(n,63080))}),{loadableGenerated:{webpack:function(){return[63080]}}});const Te=function(e){var t=e.post,n=e.onCopyLinkClick,o=e.logOrigin,r=e.shouldOnboardAuthor,a=(0,Ze.o)().completeAction,l=["post",t.id],s=(0,d.Eu)(),c=s.user,v=s.showLogin,h=(0,i.useRef)(),b=(0,i.useState)(!1),g=b[0],x=b[1],y=(0,i.useState)(),N=y[0],k=y[1],w=(0,i.useState)(),C=w[0],S=w[1],Z=(0,p.g)().onShowUpvoted,E=(0,m._)(o).openShareComment,O=(0,ge.Z)(be.D4,!1),L=(0,u.Z)(O,1)[0],z=function(e,n){var o,r;n&&(k(e.id),!(0,be._N)(t.source)||null!==(o=t.source)&&void 0!==o&&o.currentMember||L||S(e.id),(null===(r=t.source)||void 0===r?void 0:r.type)===Se.PO.Squad&&a(Ee.Us.SquadFirstComment))};return(0,i.useEffect)((function(){r&&x(!0)}),[r]),Ae(i.Fragment,null,Ae(he,{post:t,onUpvotesClick:function(e){return Z(t.id,e)}}),Ae(ee,{onCopyLinkClick:n,post:t,postQueryKey:l,onComment:function(){return h.current.onShowInput(P.aP.PostCommentButton)},actionsClassName:"hidden laptop:flex",origin:o}),Ae(Ce,{post:t}),Ae(I,{className:{container:"mt-6 hidden tablet:flex"},post:t,ref:h,onCommented:z}),Ae(Ie,{postId:t.id}),Ae(me,{post:t,origin:o,onShare:function(e){return E(e,t)},onClickUpvote:function(e,t){return Z(e,t,"comment")},permissionNotificationCommentId:N,joinNotificationCommentId:C,onCommented:z}),g&&Ae(qe,{onSignUp:!c&&function(){return v({trigger:f.IP.Author})}}))};var Re=n(83714),Fe=i.createElement,De=a()((function(){return n.e(8876).then(n.bind(n,25))}),{loadableGenerated:{webpack:function(){return[25]}}}),je=a()((function(){return n.e(4343).then(n.bind(n,73793))}),{ssr:!1,loadableGenerated:{webpack:function(){return[73793]}}}),Me=120;function We(e){var t=e.post,n=e.isFallback,r=e.origin,a=e.children,l=e.className,u=void 0===l?{}:l,d=e.navigationProps,m=e.engagementProps,p=e.shouldOnboardAuthor,f=e.isPostPage,v=(null!=t?t:{}).id,h=m.onCopyPostLink;return v||n?Fe(i.Fragment,null,f?Fe(je,{className:s()(u.header,"-mx-4")},Fe(Re.W,{post:t,className:"ml-auto",contextMenuId:"post-page-header-actions",onReadArticle:d.onReadArticle})):Fe(c.Z,(0,o.Z)({},d,{className:u.navigation})),a,Fe(Te,{post:t,onCopyLinkClick:h,logOrigin:r,shouldOnboardAuthor:p})):Fe(De,null)}},20639:(e,t,n)=>{n.d(t,{Dg:()=>de,C2:()=>me,QY:()=>ue});var o,r=n(51911),a=n(28076),i=n(83849),l=n.n(i),s=n(44194),c=n(45794),u=n(45405),d=n(18461),m=n(30197),p=n(45557),f=n(62090),v=n(14960),h=n(47307),b=n(78614),g=n(58519),x=n(84221),y=n(48987),N=n(78199),k=n(73112),w=n(78231),P=n(56603),C=n(44678),S=n(5076),Z=n(84187),E=n(40701),O=n(26809),L=n(63864),z=n(84153),I=n(89640),A=s.createElement,q=function(e){var t=e.className,n=e.isFetching,o=e.variant,r=e.onClick;return A(Z.zx,{className:t,variant:o,disabled:n,onClick:r,size:E.qE.Small},"Subscribe")},T=function(e){var t=e.className,n=e.isFetching,o=e.onClick;return A(L.i,{forceLoad:!z.jp,content:"Unsubscribe"},A(Z.zx,{className:t,size:E.qE.Small,variant:E.Wu.Tertiary,icon:A(O._,null),disabled:n,onClick:o}))},R=function(e){var t=e.className,n=e.source,o=e.variant,r=void 0===o?E.Wu.Primary:o,a=(0,v.Eu)().isLoggedIn,i=(0,I.M)({source:n}),l=i.isSubscribed,s=i.onSubscribe,c=i.isReady;return A(l?T:q,{className:t,isFetching:a&&!c,onClick:s,variant:r})},F=n(38994),D=n(49535),j=n(16789),M=s.createElement;!function(e){e.Source="source",e.Author="author",e.Featured="featured",e.Scout="scout"}(o||(o={}));var W=(0,g.Z)(m.w,"w-10 h-10"),B=function(e){var t=e.userType,n=e.name,r=e.permalink,a=e.image,i=e.className;if(t===o.Source)return M(k.t,{href:r,passHref:!0,prefetch:!1,tooltip:{placement:"bottom",content:n}},M(W,{className:l()("cursor-pointer rounded-full",i),imgSrc:a,imgAlt:n,background:"var(--theme-background-subtle)"}));var s=e;return M(w.x,{href:s.permalink,"data-testid":"authorLink"},M(W,{className:"rounded-12",imgSrc:a,imgAlt:n,background:"var(--theme-background-subtle)"}))},U=function(e){var t=e.id,n=e.handle,a=e.name,i=e.username,c=e.permalink,u=e.userType,d=void 0===u?o.Source:u,m=e.reputation,p=e.allowSubscribe,f=void 0===p||p,v=e.className,h=e.showReputation,b=void 0!==h&&h,g=function(e){return e===o.Source?null:e===o.Author?y.Y:N.G}(d),x=d===o.Source,k=(0,F.ZP)().feedSettings,Z=(0,s.useMemo)((function(){var e;return!!x&&!(null==k||null===(e=k.excludeSources)||void 0===e||!e.some((function(e){return e.id===t})))}),[x,null==k?void 0:k.excludeSources,t]);return M("div",{className:l()("relative flex flex-row items-center p-3",null==v?void 0:v.wrapper)},M(C.Z,{condition:!x,wrapper:function(e){return M(P.R,{user:{id:t}},e)}},M(w.x,{href:c},M(B,(0,r.Z)({},e,{className:null==v?void 0:v.image})))),g&&M(g,{secondary:!0,className:l()("absolute left-10 top-10 h-5 w-5",d===o.Author?"text-accent-cheese-default":"text-accent-bun-default")}),M(C.Z,{condition:!x,wrapper:function(e){return M(P.R,{user:{id:t}},e)}},M("div",{className:l()("ml-4 flex min-w-0 flex-1 flex-col",null==v?void 0:v.textWrapper)},M("div",{className:"flex"},M(w.x,{className:l()("truncate font-bold typo-callout",null==v?void 0:v.name),href:c},a),(b||!x)&&M(S.a,{className:null==v?void 0:v.reputation,user:{reputation:m}})),(n||i||t)&&M(w.x,{className:l()("mt-0.5 !block truncate text-text-tertiary typo-footnote",null==v?void 0:v.handle),href:c},"@",n||i||t))),!Z&&x&&f&&M(R,{className:"ml-2",variant:E.Wu.Secondary,source:{id:t}}))},Y=function(e){var t=e.source;return(0,I.M)({source:t}).isSubscribed?M(D.Z,{source:j.Yq.SourceSubscribe,contentName:t.name}):null};function $(e){var t=e.post,n=t.author,a=t.scout,i=t.source;return M(x.Hl,{className:"flex flex-col"},M(U,(0,r.Z)({},i,{userType:o.Source})),M(Y,{source:i}),n&&M(U,(0,r.Z)({},n,{userType:o.Author})),a&&M(U,(0,r.Z)({},a,{userType:o.Scout})))}var _=n(83714),Q=n(20617),H=s.createElement;function V(e){var t=e.onCopyPostLink,n=e.onReadArticle,o=e.post,r=e.className,a=e.onClose,i=e.origin,l=(0,s.useContext)(v.ZP).tokenRefreshed;return H(p.ry,{className:r},H(_.W,{onReadArticle:n,post:o,onClose:a,className:"hidden pt-6 laptop:flex",contextMenuId:"post-widgets-context"}),H($,{post:o}),H(h.Z,{post:o}),H(f.I,{post:o,origin:i,link:o.commentsPermalink,onCopyPostLink:t}),l&&H(b.Z,{currentPost:o}),H(Q.q,null))}var K=n(73110),G=n(73423),J=n(97343),X=n(47932),ee=n(63593),te=n(3570),ne=n(83235),oe=n(36252),re=n(94846),ae=n(42656),ie=n(10338),le=s.createElement;function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ue=80,de=120;function me(e){var t,n,o,a=e.post,i=e.className,p=void 0===i?{}:i,f=e.shouldOnboardAuthor,h=e.origin,b=e.position,g=e.inlineActions,x=e.onPreviousPost,y=e.onNextPost,N=e.onClose,k=e.postPosition,w=e.isFallback,P=e.customNavigation,C=e.onRemovePost,S=e.backToSquad,Z=e.isBannerVisible,E=e.isPostPage,O=(0,v.Eu)().user,L=(0,J.sW)().subject,z=(0,ee.Z)({origin:h,post:a}),I=z.onCopyPostLink,A=z.onReadArticle,q=(0,ie.E)(a),T=!!x||!!y,R=(0,c.AD)(a),F=l()("laptop:flex-row laptop:pb-0",null==p?void 0:p.container),D={postPosition:k,onPreviousPost:x,onNextPost:y,post:a,onReadArticle:A,onClose:N,inlineActions:g,onRemovePost:C};return(0,s.useEffect)((function(){R&&null!=a&&a.id&&null!=O&&O.id&&q(a.id)}),[R,q,a.id,null==O?void 0:O.id]),le(X.Z,{hasNavigation:T,className:F,"aria-live":L===J._R.PostContent?"polite":"off",navigationProps:"fixed"===b?ce(ce({},D),{},{isBannerVisible:Z,className:null==p?void 0:p.fixedNavigation}):null},le(re.b,{className:l()("relative",null==p?void 0:p.content),"data-testid":"postContainer"},le(te.F,{className:ce(ce({},p),{},{onboarding:l()(null==p?void 0:p.onboarding,S&&"mb-6"),navigation:{actions:null==p||null===(t=p.navigation)||void 0===t?void 0:t.actions,container:l()("pt-6",null==p||null===(n=p.navigation)||void 0===n?void 0:n.container)}}),isPostPage:E,isFallback:w,customNavigation:P,shouldOnboardAuthor:f,navigationProps:D,engagementProps:z,origin:h,post:a},le("h1",{className:"my-6 break-words font-bold typo-large-title","data-testid":"post-modal-title"},le("a",(0,r.Z)({href:a.permalink,title:"Go to post",target:"_blank",rel:"noopener"},(0,oe.K)(A)),a.title)),R&&le(ae.Z,{title:a.title,videoId:a.videoId,className:"mb-7"}),a.summary&&le(d.Z,{className:"mb-6",summary:a.summary}),le(K.R,{tags:a.tags||[]}),le(u.Z,{createdAt:a.createdAt,readTime:a.readTime,isVideoType:R,className:l()("mt-4 !typo-callout",R?"mb-4":"mb-8")}),!R&&le("a",(0,r.Z)({href:a.permalink,title:"Go to post",target:"_blank",rel:"noopener"},(0,oe.K)(A),{className:"mb-10 block cursor-pointer overflow-hidden rounded-16",style:{maxWidth:"25.625rem"}}),le(m.w,{imgSrc:a.image,imgAlt:"Post cover image",ratio:"49%",eager:!0,fallbackSrc:ne.n.post.imageCoverPlaceholder})),(null===(o=a.toc)||void 0===o?void 0:o.length)>0&&le(G.Z,{post:a,collapsible:!0,className:"mb-4 mt-2 flex laptop:hidden"}))),le(V,{onReadArticle:A,post:a,className:"pb-8",onClose:N,origin:h,onCopyPostLink:I}))}},47932:(e,t,n)=>{n.d(t,{Z:()=>g});var o=n(44194),r=n(58519),a=n(51911),i=n(53767),l=n(83849),s=n.n(l),c=n(14931),u=["onPreviousPost","onNextPost","postPosition","post","className","isBannerVisible"],d=o.createElement;const m=function(e){var t=e.onPreviousPost,n=e.onNextPost,o=e.postPosition,r=e.post,l=e.className,m=void 0===l?{}:l,p=e.isBannerVisible,f=(0,i.Z)(e,u),v="Published on ".concat(null==r?void 0:r.source.name),h=null!=r&&r.author?"".concat(v," by ").concat(null==r?void 0:r.author.name):v,b={title:null==r?void 0:r.title,subtitle:h},g=!!t||!!n;return d(c.Z,(0,a.Z)({},f,{inlineActions:!0,isFixedNavigation:!0,post:r,contextMenuId:"fixed-post-navigation-context",className:{container:s()("fixed z-postNavigation ml-0 w-full border border-border-subtlest-tertiary bg-background-subtle px-6 py-4","max-w-full laptop:left-[unset]",p?"top-14":"top-0",null==m?void 0:m.container),actions:null==m?void 0:m.actions},onPreviousPost:t,onNextPost:n,postPosition:o}),d("div",{className:s()("ml-2 flex-1 flex-col overflow-hidden",g&&"hidden laptop:flex")},d("span",{className:"overflow-hidden text-ellipsis whitespace-nowrap text-text-tertiary typo-footnote"},b.subtitle),d("h3",{className:"overflow-hidden text-ellipsis whitespace-nowrap font-bold typo-body"},b.title)))};var p=n(44678),f=n(62916),v=o.createElement,h=(0,r.Z)("div","flex flex-col w-full pb-6 bg-background-default"),b=(0,r.Z)(h,"m-auto w-full laptop:border-x laptop:border-border-subtlest-tertiary");const g=function(e){var t=e.hasNavigation,n=e.className,r=e.children,a=e.navigationProps,i=e.isNavigationOutside,l=!(0,f.V)(f.d.MobileL)&&a,s=t?h:b;return v(p.Z,{condition:i,wrapper:function(e){return v(o.Fragment,null,l&&v(m,l),e)}},v(s,{className:n},l&&!i&&v(m,l),r))}},83714:(e,t,n)=>{n.d(t,{W:()=>w});var o=n(51911),r=n(53767),a=n(44194),i=n(83849),l=n.n(i),s=n(2041),c=n(45794),u=n(58519),d=n(63864),m=n(40701),p=n(84187),f=n(82703),v=n(37981),h=n(16789),b=n(51292),g=n(62916),x=["onReadArticle","post","onClose","inlineActions","className","notificationClassName","contextMenuId","onRemovePost","isFixedNavigation"],y=a.createElement,N=(0,u.Z)("div","flex flex-row items-center"),k=function(e){return e.inlineActions?m.Wu.Tertiary:m.Wu.Primary};function w(e){var t=e.onReadArticle,n=e.post,i=e.onClose,u=e.inlineActions,w=e.className,P=(e.notificationClassName,e.contextMenuId),C=e.onRemovePost,S=e.isFixedNavigation,Z=(0,r.Z)(e,x),E=(0,a.useContext)(f.ZP).openNewTab,O=(0,g.V)(g.d.Laptop),L=(0,c.a1)(n),z=(null==n?void 0:n.type)===c.hQ.Collection,I=S||O;return y(N,(0,o.Z)({},Z,{className:l()("gap-2",w)}),!(0,c.EN)(n)&&!!t&&y((function(){var e,o;return y(d.i,{placement:"bottom",content:L,disabled:!u},y(p.zx,{variant:I?k({inlineActions:u}):m.Wu.Float,tag:"a",href:null!==(e=null===(o=n.sharedPost)||void 0===o?void 0:o.permalink)&&void 0!==e?e:n.permalink,target:E?"_blank":"_self",icon:y(s.h,null),onClick:t,"data-testid":"postActionsRead",size:I?m.qE.Medium:m.qE.Small},u?null:L))}),null),z&&y(b.E,{post:n,isCondensed:!0}),y(v.b,{post:n,onClose:i,inlineActions:u,contextMenuId:P,onRemovePost:C,origin:h.aP.ArticleModal,isEnlarged:I}))}},37981:(e,t,n)=>{n.d(t,{b:()=>x});var o=n(93309),r=n(62699),a=n.n(r),i=n(44194),l=n(12122),s=n(16186),c=n(53990),u=n(14960),d=n(45794),m=n(63864),p=n(76273),f=n(17174),v=n(42054),h=n(84187),b=n(40701),g=i.createElement;function x(e){var t,n=e.post,r=e.onClose,x=e.inlineActions,y=e.contextMenuId,N=e.onRemovePost,k=e.origin,w=e.isEnlarged,P=(0,i.useContext)(u.ZP).user,C=(0,f.G)().showPrompt,S=(0,v.Z)({id:y}),Z=S.onMenuClick,E=S.onHide,O=null==P||null===(t=P.roles)||void 0===t?void 0:t.includes(c.G7.Moderator),L=function(){var e=(0,o.Z)(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={title:"Ban post ðŸ’©",description:"Are you sure you want to ban this post?",okButton:{title:"Ban",className:"btn-primary-ketchup"}},e.next=3,C(t);case 3:if(!e.sent){e.next=6;break}return e.next=6,(0,d.uq)(n.id);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=(0,o.Z)(a().mark((function e(){var t,o,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=null===(t=n.flags)||void 0===t?void 0:t.promoteToPublic,r={title:o?"Demote post":"Promote post",description:"Do you want to ".concat(o?"demote":"promote"," this post ").concat(o?"from":"to"," the public?"),okButton:{title:o?"Demote":"Promote"}},e.next=4,C(r);case 4:if(!e.sent){e.next=12;break}if(!o){e.next=10;break}return e.next=8,(0,d.qI)(n.id);case 8:e.next=12;break;case 10:return e.next=12,(0,d.B_)(n.id);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return g(i.Fragment,null,g(m.i,{placement:"bottom",content:"Options"},g(h.zx,{className:!x&&"ml-auto",icon:g(l.O,null),onClick:Z,size:w?b.qE.Medium:b.qE.Small,variant:w?b.Wu.Tertiary:b.Wu.Float})),r&&g(m.i,{placement:"bottom",content:"Close"},g(h.zx,{variant:b.Wu.Tertiary,icon:g(s.q,null),onClick:function(e){return r(e)}})),g(p.Z,{post:n,onRemovePost:N,setShowBanPost:O?function(){return L()}:null,setShowPromotePost:O?function(){return z()}:null,contextId:y,origin:k,onHidden:E}))}},14931:(e,t,n)=>{n.d(t,{Z:()=>h});var o=n(51911),r=n(53767),a=n(44194),i=n(83849),l=n.n(i),s=n(84187),c=n(40701),u=n(63864),d=n(364),m=n(83714),p=n(22398),f=["postPosition","onPreviousPost","onNextPost","className","children","contextMenuId"],v=a.createElement;const h=function(e){var t=e.postPosition,n=e.onPreviousPost,a=e.onNextPost,i=e.className,h=void 0===i?{}:i,b=e.children,g=e.contextMenuId,x=void 0===g?"post-navigation-context":g,y=(0,r.Z)(e,f);return v("div",{className:l()("flex flex-row items-center gap-2",null==h?void 0:h.container),role:"navigation"},n&&v(u.i,{content:"Previous"},v(s.zx,{className:"-rotate-90",icon:v(d.e0,null),variant:c.Wu.Tertiary,onClick:n,disabled:[p.t.First,p.t.Only].includes(t)})),a&&v(u.i,{content:"Next"},v(s.zx,{className:"rotate-90",icon:v(d.e0,null),variant:c.Wu.Tertiary,onClick:a,disabled:[p.t.Last,p.t.Only].includes(t)})),b,v(m.W,(0,o.Z)({},y,{className:l()("flex",null==h?void 0:h.actions),notificationClassName:"ml-4",contextMenuId:x})))}},61122:(e,t,n)=>{n.d(t,{Z:()=>g});var o=n(44194),r=n(83849),a=n.n(r),i=n(56603),l=n(54480),s=n(19072),c=n(63916),u=n(52712),d=n(5076),m=n(45557),p=n(25827),f=n(93835),v=n(62130),h=o.createElement,b=function(e){var t=e.size,n=e.className;return h("span",{className:a()("flex flex-row items-center",null==n?void 0:n.container)},h(v.f,{className:(0,l.o7)(t)}),h("div",{className:"ml-4 flex flex-1 flex-col gap-1"},h(v.f,{className:"h-6 w-20 rounded-10"}),h(v.f,{className:"h-6 w-28 rounded-10"})))};const g=function(e){var t=e.className,n=e.author,o=e.role,r=e.size,v=void 0===r?l.$C.XXXLarge:r,g=e.date;return n?h("span",{className:a()("flex flex-row items-center",null==t?void 0:t.container)},h(i.R,{user:n,link:{href:n.permalink}},h(l.YY,{user:n,size:v,nativeLazyLoading:!0})),h(i.R,{user:n,link:{href:n.permalink}},h("a",{href:n.permalink,className:a()("ml-4 flex flex-1 flex-col overflow-hidden",null==t?void 0:t.details)},h("div",{className:"flex w-full"},h(m.Ys,{className:a()("font-bold",null==t?void 0:t.name),title:n.name},n.name),h("div",{className:"flex gap-1"},h(d.a,{user:n}),!!o&&h(s.Z,{key:"squadMemberRole",role:c.Pt.Admin,removeMargins:!0}))),h("div",{className:a()("flex text-text-tertiary",null==t?void 0:t.handle)},h(m.Ys,{title:"@".concat(n.username)},"@",n.username),!!g&&h(u.Z0,null),!!g&&h(p.t,{date:g,type:f.lf.Post}))))):h(b,{className:t,size:v})}},51292:(e,t,n)=>{n.d(t,{E:()=>C});var o,r=n(44194),a=n(81172),i=n(25077),l=n(66315),s=n(51911),c=n(99128);function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},u.apply(this,arguments)}const d=function(e){return r.createElement("svg",u({width:"1em",height:"1em",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),o||(o=r.createElement("path",{d:"M17.889 9.377c.252.61.414 1.27.467 1.961l.015.264.004.21v2.226l.072.022c.803.28 1.405.988 1.53 1.852l.018.175.005.158c0 1.224-.95 2.226-2.154 2.307l-.159.006-2.046-.001-.013.033a3.94 3.94 0 01-3.216 2.384l-.21.016-.202.005a3.925 3.925 0 01-3.523-2.192l1.157-1.158a2.439 2.439 0 002.205 1.845l.161.005.16-.005a2.438 2.438 0 002.272-2.265l.005-.168h3.25l.102-.006a.813.813 0 000-1.612l-.196-.012a.813.813 0 01-.712-.704l-.006-.103v-2.807l-.003-.183a4.871 4.871 0 00-.16-1.074l1.177-1.179zm2.64-5.83a.75.75 0 01.002 1.06l-16 16.026a.75.75 0 01-1.062-1.06l16-16.025a.75.75 0 011.06-.001zM12 3a2.312 2.312 0 012.25 2.847c.192.072.379.153.561.243l-1.14 1.142a4.837 4.837 0 00-.26-.087l-.143-.041a4.881 4.881 0 00-2.53-.001l-.148.042a4.876 4.876 0 00-3.46 4.441l-.005.226v1.976l-3.047 3.053a2.301 2.301 0 01-.057-.282l-.016-.156L4 16.245c0-.903.52-1.693 1.325-2.076l.165-.071.135-.048v-2.238A6.377 6.377 0 019.75 5.846 2.312 2.312 0 0112 3zm0 1.5a.812.812 0 10.788 1.013l.018-.099.007-.101A.812.812 0 0012 4.5z",fill:"currentcolor",fillRule:"evenodd"})))};var m;function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},p.apply(this,arguments)}const f=function(e){return r.createElement("svg",p({width:"1em",height:"1em",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),m||(m=r.createElement("path",{d:"M17.486 9.741c.211.57.336 1.18.36 1.818l.004.219v3.37l.008.123c.055.443.409.794.853.846l.236.014a.975.975 0 010 1.935l-.122.008h-3.9l-.007.2a2.926 2.926 0 01-2.726 2.72L12 21l-.193-.006a2.926 2.926 0 01-2.727-2.748l-.002-.051 8.408-8.454zm3.089-6.297a.75.75 0 01.003 1.06L4.532 20.64a.75.75 0 11-1.064-1.058L19.514 3.446a.75.75 0 011.061-.002zM12 5.926c.526 0 1.036.07 1.521.2l.172.049c.248.075.49.166.723.272L6.15 14.758v-2.98l.006-.272a5.853 5.853 0 014.152-5.33l.177-.052c.483-.13.991-.198 1.515-.198zM12 3c.538 0 .975.437.975.975l-.008.123-.022.117A.975.975 0 1112 3z",fill:"currentcolor",fillRule:"evenodd"})))};var v=r.createElement,h=function(e){return v(c.ZP,(0,s.Z)({},e,{IconPrimary:d,IconSecondary:f}))},b=n(55864),g=n(84187),x=n(40701),y=n(31329),N=n(14960),k=r.createElement,w=function(e){var t=e.isSubscribed,n=e.isFetching,o=e.onClick;return k(g.zx,{variant:t?x.Wu.Secondary:x.Wu.Primary,icon:k(t?h:b.Dk,null),disabled:n,onClick:o},t?"Unsubscribe":"Subscribe")},P=function(e){var t=e.isSubscribed,n=e.isFetching,o=e.onClick;return k(g.zx,{variant:x.Wu.Float,size:x.qE.Small,icon:k(t?h:b.Dk,null),disabled:n,onClick:o},t?"Unsubscribe":"Subscribe")},C=function(e){var t=e.post,n=e.isCondensed,o=(0,N.Eu)(),r=o.isLoggedIn,s=o.showLogin,c=(0,a.H)({params:null!=t&&t.id?[{notificationType:i.k$.CollectionUpdated,referenceId:t.id}]:void 0}),u=c.preferences,d=c.subscribeNotification,m=c.clearNotificationPreference,p=c.isFetching,f=!(null==u||!u.some((function(e){return(0,a.$)(e,i.k$.CollectionUpdated,null==t?void 0:t.id,[l.QP.Subscribed])})));return k(n?P:w,{isSubscribed:f,isFetching:p,onClick:function(){if(r){var e={type:i.k$.CollectionUpdated,referenceId:t.id};f?m(e):d(e)}else s({trigger:y.IP.CollectionSubscribe})}})}},94846:(e,t,n)=>{n.d(t,{b:()=>o});var o=(0,n(58519).Z)("main","flex flex-col flex-1 px-4 laptop:px-8 laptop:border-r laptop:border-border-subtlest-tertiary")},58088:(e,t,n)=>{n.d(t,{J:()=>d});var o=n(70468),r=n(44194),a=n(84187),i=n(40701),l=n(32298),s=n(51074),c=n(57336),u=r.createElement;function d(e){var t,n,r,d,m=e.link,p=e.text,f=void 0===p?{}:p,v=e.onCopy,h=e.className,b=e.logProps,g=(0,s.y)((function(){return m})),x=(0,o.Z)(g,2),y=x[0],N=x[1],k=(0,c.fv)().logEvent;return u(l.n,{className:h,name:"inviteURL",inputId:"inviteURL",label:"Your unique invite URL",type:"url",autoComplete:"off",value:m,fieldType:"tertiary",actionButton:u(a.zx,{size:i.qE.Small,variant:i.Wu.Primary,onClick:function(){N(),k(b),v&&v()}},(r=null!==(t=null==f?void 0:f.initial)&&void 0!==t?t:"Copy link",d=null!==(n=null==f?void 0:f.copied)&&void 0!==n?n:"Copied",y?d:r)),readOnly:!0})}},42656:(e,t,n)=>{n.d(t,{Z:()=>u});var o=n(51911),r=n(53767),a=n(44194),i=n(83849),l=n.n(i),s=["videoId","className","title"],c=a.createElement;const u=function(e){var t=e.videoId,n=e.className,a=e.title,i=(0,r.Z)(e,s);return c("div",{className:l()("relative w-full overflow-hidden rounded-16 pt-[56.25%]",n)},c("iframe",(0,o.Z)({title:a,src:"https://www.youtube-nocookie.com/embed/".concat(t),allow:"autoplay; clipboard-write; encrypted-media; picture-in-picture; web-share",allowFullScreen:!0,className:"absolute inset-0 aspect-video w-full border-0"},i)))}},78614:(e,t,n)=>{n.d(t,{Z:()=>ye});var o,r,a=n(98935),i=n(93309),l=n(28076),s=n(62699),c=n.n(s),u=n(44194),d=n(83849),m=n.n(d),p=n(42135),f=n(86422),v=n(14960),h=n(66022),b=n(91385),g=n(5701),x=(0,b.gql)(o||(o=(0,h.Z)(["\n  fragment FurtherReading on Post {\n    id\n    title\n    permalink\n    commentsPermalink\n    bookmarked @include(if: $loggedIn)\n    image\n    readTime\n    numComments\n    numUpvotes\n    source {\n      ...SourceShortInfo\n    }\n    scout {\n      ...UserShortInfo\n    }\n    author {\n      ...UserShortInfo\n    }\n  }\n  ","\n  ","\n"])),g.JT,g.T),y=(0,b.gql)(r||(r=(0,h.Z)(["\n  query SimilarPosts(\n    $post: ID!\n    $loggedIn: Boolean! = false\n    $trendingFirst: Int\n    $similarFirst: Int\n    $discussedFirst: Int\n    $withDiscussedPosts: Boolean! = false\n    $tags: [String]!\n  ) {\n    trendingPosts: randomTrendingPosts(post: $post, first: $trendingFirst) {\n      ...FurtherReading\n      bookmarked @include(if: $loggedIn)\n      trending\n      tags\n    }\n    similarPosts: randomSimilarPostsByTags(\n      tags: $tags\n      post: $post\n      first: $similarFirst\n    ) {\n      ...FurtherReading\n      bookmarked @include(if: $loggedIn)\n      tags\n    }\n    discussedPosts: randomDiscussedPosts(post: $post, first: $discussedFirst)\n      @include(if: $withDiscussedPosts) {\n      ...FurtherReading\n    }\n  }\n  ","\n"])),x),N=n(72110),k=n(45794),w=n(51911),P=n(52402),C=n.n(P),S=n(13453),Z=n(364),E=n(11982),O=n(30197),L=n(78991),z=n(62130),I=n(58519),A=n(83296),q=n(57336),T=n(63864),R=n(45557),F=n(36252),D=n(84187),j=n(40701),M=n(30413),W=n(52712),B=n(97021),U=u.createElement;function Y(e){var t=e.upvotes,n=e.comments,o=e.className;return U("p",{className:m()("truncate typo-footnote",o),"data-testid":"post-engagements-count"},t?"".concat((0,B.r)(t)," Upvotes"):"",t&&n?U(u.Fragment,null," ",W.o9," "):"",n?"".concat((0,B.r)(n)," Comments"):"")}var $=u.createElement,_=$("div",{className:"h-px bg-border-subtlest-tertiary"}),Q="w-7 h-7 rounded-full mt-1",H="flex flex-col ml-3 mr-2 flex-1",V=function(e){var t=e.post,n=e.onLinkClick,o=e.onBookmark;return $("article",{className:m()("group relative flex items-start py-2 pl-4 pr-2 hover:bg-surface-hover",E.Z.card)},$(L.YS,(0,w.Z)({href:t.commentsPermalink,title:t.title},(0,F.K)((function(){return n(t)})))),$(O.w,{imgSrc:t.source.image,imgAlt:t.source.name,className:Q}),$("div",{className:H},$("h5",{className:m()("multi-truncate mb-0.5 text-ellipsis break-words text-text-primary typo-callout",E.Z.title)},t.title),t.trending?$("div",{className:"flex items-center text-text-tertiary typo-footnote"},$(R.nJ,null),$("div",{className:"ml-2"},t.trending," devs read it last hour")):$(Y,{upvotes:t.numUpvotes,comments:t.numComments,className:"text-text-tertiary"})),$(T.i,{content:t.bookmarked?"Remove bookmark":"Bookmark"},$(D.zx,{variant:j.Wu.Tertiary,color:M.S.Bun,className:"mt-1 group-hover:visible mouse:invisible",pressed:t.bookmarked,size:j.qE.Small,icon:$(S.p,{secondary:t.bookmarked}),onClick:function(){return o(t)}})))},K=(0,I.Z)(z.f,"h-3 rounded-12 my-0.5");function G(e){var t=e.posts,n=e.isLoading,o=e.onBookmark,r=e.className,a=e.title,l=void 0===a?"You might like":a,s=e.moreButtonProps,d=e.ListItem,p=void 0===d?V:d,f=(0,u.useContext)(q.ZP).logEvent,v=(null==s?void 0:s.href)||"https://app.daily.dev/",h=(null==s?void 0:s.text)||"View all",b=function(){var e=(0,i.Z)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f((0,A.xw)("click",t,{extra:{origin:"recommendation"}}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return $("section",{className:m()("flex flex-col rounded-16 border border-border-subtlest-tertiary",r)},$("h4",{className:"py-3 pl-6 pr-4 text-text-tertiary typo-body"},l),_,n?$(u.Fragment,null,$(p.Placeholder,null),$(p.Placeholder,null),$(p.Placeholder,null)):$(u.Fragment,null,t.map((function(e){return $(p,{key:e.id,post:e,onBookmark:o,onLinkClick:function(){return b(e)}})}))),_,$(C(),{href:v,passHref:!0},$(D.zx,{variant:j.Wu.Tertiary,className:"my-2 ml-2 self-start",size:j.qE.Small,tag:"a",icon:$(Z.e0,{className:"rotate-90"}),iconPosition:j.s6.Right},h)))}V.Placeholder=function(){return $("article",{"aria-busy":!0,className:"relative flex items-start py-2 pl-4 pr-2"},$(z.f,{className:Q}),$("div",{className:H},$(K,{style:{width:"80%"}}),$(K,{style:{width:"80%"}}),$(K,{style:{width:"40%"}})))};var J=n(84221),X=u.createElement,ee=X("div",{className:"h-px bg-border-subtlest-tertiary"}),te=function(e){var t=e.post,n=e.onLinkClick;return X("article",{className:m()("group relative flex flex-col items-start px-4 py-3 hover:bg-surface-hover",E.Z.card)},X(C(),{href:t.commentsPermalink,prefetch:!1,passHref:!0},X(L.YS,(0,w.Z)({title:t.title},(0,F.K)((function(){return n(t)}))))),X("h5",{className:m()("multi-truncate mb-2 text-text-primary typo-callout",E.Z.title)},t.title),X("div",{className:"flex items-center text-text-tertiary typo-footnote"},X("div",null,t.numComments," Comments")))},ne=(0,I.Z)(z.f,"h-3 rounded-12 my-0.5"),oe=function(){return X("article",{"aria-busy":!0,className:"relative flex flex-col items-start px-4 py-3"},X(ne,{style:{width:"80%"}}),X(ne,{style:{width:"80%"}}),X(ne,{style:{width:"40%"}}))},re=(0,I.Z)(J.Hl,"flex flex-col");function ae(e){var t,n,o=e.posts,r=e.isLoading,a=e.className,i=(0,u.useContext)(q.ZP).logEvent,l=function(e){i((0,A.xw)("click",e,{extra:{origin:"best discussions"}}))};return X(re,{className:a},X("h4",{className:"py-3 pl-6 pr-4 text-text-tertiary typo-body"},"Best discussions"),ee,r?X(u.Fragment,null,X(oe,null),X(oe,null),X(oe,null)):X(u.Fragment,null,null==o?void 0:o.slice(1).map((function(e){return X(te,{key:e.id,post:e,onLinkClick:l})}))),ee,X(C(),{href:null!==(t=null==o||null===(n=o[0])||void 0===n?void 0:n.commentsPermalink)&&void 0!==t?t:"/",prefetch:!1,passHref:!0},X(D.zx,(0,w.Z)({variant:j.Wu.Tertiary,className:"my-2 ml-2 self-start",size:j.qE.Small,tag:"a",icon:X(Z.e0,{className:"rotate-90"}),iconPosition:j.s6.Right},(0,F.K)((function(){}))),"I'm feeling lucky")))}var ie=n(73423),le=n(93077),se=n(47831),ce=n(61122),ue=n(54480),de=u.createElement,me=function(e){var t=e.post,n=e.onLinkClick,o=e.onBookmark;return de("article",{className:m()("group relative flex items-start px-4 py-2 hover:bg-surface-hover",E.Z.card)},de(L.YS,(0,w.Z)({href:t.commentsPermalink,title:t.title},(0,F.K)((function(){return n(t)})))),de("div",{className:"flex w-full flex-col"},(null==t?void 0:t.author)&&de(ce.Z,{className:{name:"text-text-primary typo-callout",handle:"text-text-quaternary typo-callout",details:"flex-1 pr-8"},author:t.author,size:ue.$C.Large,date:t.createdAt}),de("p",{className:"mt-2 line-clamp-3 text-text-primary typo-callout"},t.title)),de(T.i,{content:t.bookmarked?"Remove bookmark":"Bookmark"},de(D.zx,{className:"absolute right-3 group-hover:visible mouse:invisible",variant:j.Wu.Tertiary,color:M.S.Bun,pressed:t.bookmarked,size:j.qE.Small,icon:de(S.p,{secondary:t.bookmarked}),onClick:function(){return o(t)}})))};me.Placeholder=function(){return de("article",{"aria-busy":!0,className:"relative flex flex-col px-4 py-2"},de("div",{className:"mb-2 flex flex-1 flex-row items-center"},de(z.f,{className:"mt-1 h-10 w-10 rounded-14"}),de("div",{className:"ml-3 mr-2 flex flex-1 flex-col"},de(J.P5,{style:{width:"40%"}}),de(J.P5,{style:{width:"40%"}}))),de(J.P5,{style:{width:"80%"}}),de(J.P5,{style:{width:"80%"}}))};var pe=n(58022),fe=n(8421),ve=u.createElement;function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ge=function(e,t,n){return e.map((function(e){return e.id===t?be(be({},e),n(e)):e}))},xe=function(e,t,n){return function(){var o=(0,i.Z)(c().mark((function o(r){var a,i;return c().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return a=r.id,o.next=3,e.cancelQueries(t);case 3:return i=e.getQueryData(t),e.setQueryData(t,be(be({},i),{},{trendingPosts:ge(i.trendingPosts,a,n),similarPosts:ge(i.similarPosts,a,n)})),o.abrupt("return",(function(){return e.setQueryData(t,i)}));case 6:case"end":return o.stop()}}),o)})));return function(e){return o.apply(this,arguments)}}()};function ye(e){var t,n,o=e.currentPost,r=e.className,l=(0,se._N)(o.source),s=o.id,d=o.tags,h=["furtherReading",s],b=(0,u.useContext)(v.ZP),g=b.user,x=b.isLoggedIn,w=(0,p.NL)(),P=(0,f.a)(h,(0,i.Z)(c().mark((function e(){var t,n,r,a,i,u;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.source,!l){e.next=7;break}return e.next=4,fe.Nb.request(le.zQ,{first:3,loggedIn:x,source:t.id,ranking:"TIME",supportedTypes:[k.hQ.Article,k.hQ.Share,k.hQ.Freeform]});case 4:return i=e.sent,u=(null==i||null===(n=i.page)||void 0===n||null===(r=n.edges)||void 0===r||null===(a=r.map((function(e){return e.node})))||void 0===a?void 0:a.filter((function(e){return e.id!==o.id})))||[],e.abrupt("return",{trendingPosts:[],similarPosts:u,discussedPosts:[]});case 7:return e.abrupt("return",fe.Nb.request(y,{loggedIn:!!g,post:s,trendingFirst:1,similarFirst:3,discussedFirst:4,withDiscussedPosts:!0,tags:d}));case 8:case"end":return e.stop()}}),e)}))),be({},pe.t3)),C=P.data,S=P.isLoading,Z=(0,N._v)({onMutate:function(e){var t=e.id;return xe(w,h,(function(e){return{bookmarked:!e.bookmarked}}))({id:t})}}).toggleBookmark;if(!(null!=C&&C.similarPosts||S))return ve(u.Fragment,null);var E=null!=C&&C.similarPosts?[].concat((0,a.Z)(C.trendingPosts),(0,a.Z)(C.similarPosts.slice(0,Math.min(C.similarPosts.length,3-C.trendingPosts.length)))):[],O=function(){var e=(0,i.Z)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Z({post:t,origin:"recommendation"});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=(null===(t=o.toc)||void 0===t?void 0:t.length)>0;return ve("div",{className:m()(r,"flex flex-col gap-6")},L&&ve(ie.Z,{post:o,className:"hidden laptop:flex"}),(S||(null==E?void 0:E.length)>0)&&ve(G,{posts:E,isLoading:S,onBookmark:O,title:l?"More posts from ".concat(o.source.name):void 0,moreButtonProps:{href:l?o.source.permalink:void 0,text:l?"Show more":void 0},ListItem:l?me:void 0}),(S||(null==C||null===(n=C.discussedPosts)||void 0===n?void 0:n.length)>0)&&ve(ae,{posts:null==C?void 0:C.discussedPosts,isLoading:S}))}},73423:(e,t,n)=>{n.d(t,{Z:()=>Z});var o,r=n(93309),a=n(62699),i=n.n(a),l=n(44194),s=n(83849),c=n.n(s),u=n(51911),d=n(99128);function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},m.apply(this,arguments)}const p=function(e){return l.createElement("svg",m({width:"1em",height:"1em",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),o||(o=l.createElement("path",{d:"M5.75 6h12.5a.75.75 0 110 1.5H5.75a.75.75 0 010-1.5zm0 5h12.5a.75.75 0 110 1.5H5.75a.75.75 0 110-1.5zm0 5h6.5a.75.75 0 110 1.5h-6.5a.75.75 0 110-1.5z",fill:"currentcolor",fillRule:"evenodd"})))};var f;function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},v.apply(this,arguments)}const h=function(e){return l.createElement("svg",v({width:"1em",height:"1em",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),f||(f=l.createElement("path",{d:"M12.5 16a1 1 0 01.117 1.993L12.5 18h-7a1 1 0 01-.117-1.993L5.5 16h7zm6-5a1 1 0 01.117 1.993L18.5 13h-13a1 1 0 01-.117-1.993L5.5 11h13zm0-5a1 1 0 01.117 1.993L18.5 8h-13a1 1 0 01-.117-1.993L5.5 6h13z",fill:"currentcolor",fillRule:"evenodd"})))};var b=l.createElement,g=function(e){return b(d.ZP,(0,u.Z)({},e,{IconPrimary:p,IconSecondary:h}))},x=n(45557),y=n(57336),N=n(83296);const k={details:"VcLCIuDU9WFPxvzmyOldTA=="};var w=n(84221),P=l.createElement,C=P("div",{className:"mb-3 h-px bg-border-subtlest-tertiary"}),S=function(e,t){return t.id?"".concat(e.permalink,"?a=").concat(t.id):e.permalink};function Z(e){var t=e.post,n=e.className,o=e.collapsible,a=(0,l.useContext)(y.ZP).logEvent,s=function(){var e=(0,r.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a((0,N.xw)("click",t,{extra:{origin:"toc"}}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=P(l.Fragment,null,t.toc.map((function(e){return P("a",{key:e.text,href:S(t,e),target:"_blank",rel:"noopener",title:e.text,onClick:s,className:"flex-1 truncate px-4 py-2 typo-callout hover:bg-surface-hover"},e.text)}))),d="flex items-center py-3 px-4 typo-body text-text-tertiary border border-border-subtlest-quaternary";return o?P("details",{className:c()("select-none flex-col overflow-hidden rounded-16",k.details,n)},P(x.ER,{className:"hover:bg-surface-hover"},P("div",{className:d},P(g,{className:"mr-2 text-2xl"}),"Table of contents",P(x.vd,null))),C,u):P(w.Hl,{className:c()("flex-col overflow-hidden rounded-16 border border-border-subtlest-quaternary pb-3",n)},P("h4",{className:d},P(g,{className:"mr-2 text-2xl"}),"Table of contents"),C,u)}},84221:(e,t,n)=>{n.d(t,{Gd:()=>s,Hl:()=>i,P5:()=>l,zl:()=>a});var o=n(58519),r=n(62130),a="border border-border-subtlest-tertiary rounded-16",i=(0,o.Z)("div",a),l=(0,o.Z)(r.f,"h-3 rounded-12 my-0.5"),s=(0,o.Z)("div","h-px bg-border-subtlest-tertiary")},10338:(e,t,n)=>{n.d(t,{E:()=>f});var o=n(28076),r=n(93309),a=n(62699),i=n.n(a),l=n(42135),s=n(78487),c=n(45794),u=n(84663),d=n(14960);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=function(e){var t,n=(0,l.NL)(),o=(0,d.Eu)().user,a=(0,u.e0)(u.dt.UserStreak,o),m=(0,u.e0)(u.dt.ReadingStreak30Days,o),f=(0,s.D)(c.ox,{onSuccess:(t=(0,r.Z)(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.invalidateQueries(a);case 2:if(e.read||n.setQueryData(a,(function(e){var t=p({},e);return null!=t&&t.lastViewAt&&new Date(t.lastViewAt).getDate()===(new Date).getDate()||(t.max+=1,t.total+=1,t.current+=1),t.lastViewAt=new Date,t})),!n.getQueryData(m)){t.next=7;break}return t.next=7,n.invalidateQueries(m);case 7:return t.abrupt("return",null);case 8:case"end":return t.stop()}}),t)}))),function(){return t.apply(this,arguments)})});return f.mutateAsync}},63593:(e,t,n)=>{n.d(t,{Z:()=>x});var o=n(93309),r=n(70468),a=n(62699),i=n.n(a),l=n(44194),s=n(42135),c=n(45794),u=n(57336),d=n(83296),m=n(63813),p=n(40996),f=n(46624),v=n(84113),h=n(79022),b=n(10404),g=n(51983);const x=function(e){var t=e.origin,n=e.post,a=null==n?void 0:n.id,x=(0,s.NL)(),y=(0,u.fv)().logEvent,N=(0,m.Z)({origin:t}),k=n.commentsPermalink,w=v.A.SharePost,P=(0,h.r)().getShortUrl,C=(0,g._)(),S=(0,r.Z)(C,2)[1],Z=(0,l.useCallback)((function(e){return y((0,d.xw)("share post",n,{extra:{provider:e,origin:t}}))}),[t,n]),E=(0,l.useCallback)((0,o.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(k,w);case 2:t=e.sent,S({link:t}),Z(b.YE.CopyLink);case 5:case"end":return e.stop()}}),e)}))),[w,k,S,P,Z]),O=(0,l.useCallback)((function(){return N({post:(null==n?void 0:n.sharedPost)||n,optional:{parent_id:n.sharedPost&&n.id}})}),[N,n]);(0,p.Z)((function(){return{query:c.uw,variables:{ids:[a]}}}),{next:function(e){e.postsEngaged.id===a&&(0,f.cM)(x,n.id,e.postsEngaged)}});var L=(0,l.useRef)(null);return(0,l.useEffect)((function(){n&&L.current!==n.id&&(L.current=n.id,y((0,d.xw)("".concat(t," view"),n)))}),[n]),{onReadArticle:O,onCopyPostLink:E}}},7175:(e,t,n)=>{n.d(t,{Z:()=>l});var o=n(44194),r=n(20639);var a=n(52008).w8;var i=n(95051);const l=function(e){var t,n=e.isDisplayed,l=e.offset,s=void 0===l?0:l;(0,o.useEffect)((function(){var e,t;window.matchMedia&&(window.matchMedia(a.replace("@media ","")).matches||(window.scroll(0,0),null===(e=document.querySelector('[role="dialog"]'))||void 0===e||null===(t=e.scroll)||void 0===t||t.call(e,0,0)))}),[]),t=n,(0,o.useEffect)((function(){var e=document.querySelector("#__next");if(e)return t?e.classList.add("hide-on-modal"):e.classList.remove("hide-on-modal"),function(){e.classList.remove("hide-on-modal")}}),[t]);var c=(0,o.useState)("relative"),u=c[0],d=c[1],m=(0,o.useState)(),p=m[0],f=m[1];(0,i.W)((0,o.useCallback)((function(){return p}),[p]),{onOverOffset:function(){return"fixed"!==u&&d("fixed")},onUnderOffset:function(){return"relative"!==u&&d("relative")},offset:r.QY+s});var v=(0,o.useCallback)((function(){var e,t=document.getElementById("post-modal");if(t){var n=t.parentElement;f(n),null==n||null===(e=n.scrollTo)||void 0===e||e.call(n,0,0),d("relative")}}),[]);return{position:u,onLoad:v}}}}]);