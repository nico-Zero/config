"use strict";(self.webpackChunkextension=self.webpackChunkextension||[]).push([[8502],{20740:(e,t,n)=>{n.r(t),n.d(t,{ReportCommentModal:()=>R,default:()=>C});var r=n(51911),o=n(93309),a=n(53767),u=n(62699),s=n.n(u),i=n(44194),l=n(72600),c=n(78487),p=n(14960),f=n(31329),m=n(22925),d=n(23043);var b=n(57336),v=n(83296),y=n(16789),h=["onReport","comment","post"],x=i.createElement,g=[{value:"HATEFUL",label:"Hateful or offensive content"},{value:"HARASSMENT",label:"Harassment or bullying"},{value:"SPAM",label:"Spam or scams"},{value:"EXPLICIT",label:"Explicit sexual content"},{value:"MISINFORMATION",label:"False information or misinformation"},{value:"OTHER",label:"Other"}];function R(e){var t=e.onReport,n=e.comment,u=e.post,R=(0,a.Z)(e,h),C=function(){var e=(0,i.useContext)(p.ZP),t=e.user,n=e.showLogin,r=(0,m.Y)().requestMethod,a=(0,c.D)((function(e){return r(d.iO,e)})).mutateAsync,u=function(){var e=(0,o.Z)(s().mark((function e(r){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return n({trigger:f.IP.ReportPost}),e.abrupt("return",{successful:!1});case 3:return e.next=5,a(r);case 5:return e.abrupt("return",{successful:!0});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{reportComment:u}}(),k=C.reportComment,w=(0,b.fv)().logEvent,E=function(){var e=(0,o.Z)(s().mark((function e(r,o,a){var i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k({commentId:n.id,reason:o,note:a});case 2:if(i=e.sent,i.successful){e.next=6;break}return e.abrupt("return");case 6:w((0,v.xw)(y.gr.ReportComment,u,{extra:{commentId:n.id}})),"function"==typeof t&&t(n),R.onRequestClose(r);case 9:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();return x(l.y,(0,r.Z)({},R,{isOpen:!0,onReport:E,reasons:g,heading:"Report comment"}))}const C=R},72600:(e,t,n)=>{n.d(t,{y:()=>b});var r=n(51911),o=n(53767),a=n(44194),u=n(57486),s=n(84187),i=n(40701),l=n(49110),c=n(45557),p=n(62916),f=["onReport","reasons","heading","title","footer","disabled"],m=a.createElement,d="OTHER";function b(e){var t=e.onReport,n=e.reasons,b=e.heading,v=e.title,y=e.footer,h=e.disabled,x=(0,o.Z)(e,f),g=(0,a.useState)(null),R=g[0],C=g[1],k=(0,a.useState)(),w=k[0],E=k[1],I=(0,p.V)(p.d.MobileL),S={disabled:!R||R===d&&!w||h,onClick:function(e){return t(e,R,w)}};return m(l.u_,(0,r.Z)({isOpen:!0,kind:l.u_.Kind.FixedCenter},x,{formProps:{form:null,title:b,rightButtonProps:S,className:{container:"w-full"},copy:{right:"Submit report"}}}),m(l.u_.Header,{title:b}),m(l.u_.Body,{className:"py-5"},v&&m("p",{className:"mb-6 text-text-tertiary typo-callout"},v),m(u.Y,{name:"report_reason",options:"function"==typeof n?n(R):n,value:R,onChange:C}),m("p",{className:"mb-1 mt-6 px-2 font-bold typo-caption1"},"Anything else you'd like to add?"),m("textarea",{onInput:function(e){return E(e.currentTarget.value)},className:"mb-1 h-20 w-full resize-none self-stretch rounded-10 bg-surface-float p-2 typo-body","data-testid":"report_comment"}),I?y:null),m(l.u_.Footer,{justify:y&&!I?c.WD.Between:c.WD.End},I?null:y,m(s.zx,{variant:i.Wu.Primary,disabled:!R||R===d&&!w||h,onClick:function(e){return t(e,R,w)}},"Submit report")))}}}]);