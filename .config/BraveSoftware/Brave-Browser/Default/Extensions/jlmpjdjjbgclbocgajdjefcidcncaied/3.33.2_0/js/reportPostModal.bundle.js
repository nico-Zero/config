"use strict";(self.webpackChunkextension=self.webpackChunkextension||[]).push([[4933],{71444:(e,t,r)=>{r.d(t,{X:()=>p});var n=r(51911),o=r(53767),a=r(44194),l=r(83849),i=r.n(l),s=r(74077),c=r(39638),u=["name","checked","children","className","checkmarkClassName","onToggle","id","disabled"],d=a.createElement,p=(0,a.forwardRef)((function(e,t){var r=e.name,l=e.checked,p=e.children,f=e.className,m=e.checkmarkClassName,b=e.onToggle,v=e.id,y=e.disabled,h=(0,o.Z)(e,u),g=(0,a.useState)(l),k=g[0],x=g[1];(0,a.useEffect)((function(){x(l)}),[l]);return d("label",{className:i()("relative z-1 inline-flex select-none items-center p-1 pr-3 text-text-tertiary typo-footnote",!y&&"cursor-pointer",c.Z.label,f,{checked:k,disabled:y}),style:{transition:"color 0.1s linear"},htmlFor:v},d("input",(0,n.Z)({},h,{disabled:y,id:v,type:"checkbox",className:"absolute h-0 w-0 opacity-0",name:r,checked:l,onChange:function(e){x(e.target.checked),null==b||b(e.target.checked)},ref:t})),d("div",{className:i()("relative z-1 mr-3 flex h-5 w-5 items-center justify-center rounded-6 border-2 border-border-subtlest-primary",c.Z.checkmark,m)},d(s.t,{className:"icon h-full w-full text-text-primary opacity-0",style:{transition:"opacity 0.1s linear"}})),p)}))},72600:(e,t,r)=>{r.d(t,{y:()=>b});var n=r(51911),o=r(53767),a=r(44194),l=r(57486),i=r(84187),s=r(40701),c=r(49110),u=r(45557),d=r(62916),p=["onReport","reasons","heading","title","footer","disabled"],f=a.createElement,m="OTHER";function b(e){var t=e.onReport,r=e.reasons,b=e.heading,v=e.title,y=e.footer,h=e.disabled,g=(0,o.Z)(e,p),k=(0,a.useState)(null),x=k[0],O=k[1],R=(0,a.useState)(),w=R[0],N=R[1],E=(0,d.V)(d.d.MobileL),C={disabled:!x||x===m&&!w||h,onClick:function(e){return t(e,x,w)}};return f(c.u_,(0,n.Z)({isOpen:!0,kind:c.u_.Kind.FixedCenter},g,{formProps:{form:null,title:b,rightButtonProps:C,className:{container:"w-full"},copy:{right:"Submit report"}}}),f(c.u_.Header,{title:b}),f(c.u_.Body,{className:"py-5"},v&&f("p",{className:"mb-6 text-text-tertiary typo-callout"},v),f(l.Y,{name:"report_reason",options:"function"==typeof r?r(x):r,value:x,onChange:O}),f("p",{className:"mb-1 mt-6 px-2 font-bold typo-caption1"},"Anything else you'd like to add?"),f("textarea",{onInput:function(e){return N(e.currentTarget.value)},className:"mb-1 h-20 w-full resize-none self-stretch rounded-10 bg-surface-float p-2 typo-body","data-testid":"report_comment"}),E?y:null),f(c.u_.Footer,{justify:y&&!E?u.WD.Between:u.WD.End},E?null:y,f(i.zx,{variant:s.Wu.Primary,disabled:!x||x===m&&!w||h,onClick:function(e){return t(e,x,w)}},"Submit report")))}},27544:(e,t,r)=>{r.r(t),r.d(t,{ReportPostModal:()=>N,default:()=>E});var n=r(51911),o=r(93309),a=r(28076),l=r(53767),i=r(98935),s=r(62699),c=r.n(s),u=r(44194),d=r(71444),p=r(84187),f=r(40701),m=r(45557),b=r(88839),v=r(83296),y=r(57336),h=r(72600),g=["index","post","origin","onReported"],k=u.createElement;function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var R=[{value:"IRRELEVANT",label:"The post is not about..."},{value:"BROKEN",label:"Broken link"},{value:"CLICKBAIT",label:"Clickbait"},{value:"LOW",label:"Low-quality content"},{value:"NSFW",label:"NSFW"},{value:"OTHER",label:"Other"}],w={IRRELEVANT:function(e){var t,r=e.post,n=e.selectedTags,o=e.setSelectedTags;return k(m.gq,{className:"my-4 flex-wrap gap-2"},null===(t=r.tags)||void 0===t?void 0:t.map((function(e){var t=n.includes(e);return k(p.zx,{key:e,variant:t?f.Wu.Primary:f.Wu.Float,size:f.qE.Small,onClick:function(){o(t?n.filter((function(t){return t!==e})):[].concat((0,i.Z)(n),[e]))}},"#",e)})))}};function N(e){var t,r=e.index,a=e.post,i=e.origin,s=e.onReported,p=(0,l.Z)(e,g),f=(0,y.fv)().logEvent,m=(0,u.useRef)(),x=(0,u.useState)((function(){return[]})),N=x[0],E=x[1],C=(0,u.useCallback)((function(e){return R.filter((function(e){var t;return("IRRELEVANT"!==e.value||0!==(null==a||null===(t=a.tags)||void 0===t?void 0:t.length))&&e})).map((function(t){var r=t.value===e&&w[t.value];return r?O(O({},t),{},{afterElement:k(r,{post:a,selectedTags:N,setSelectedTags:E})}):t}))}),[a,N]),S=(0,b.Z)().reportPost,P=function(){var e=(0,o.Z)(c().mark((function e(t,n,o){var l,u;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S({id:a.id,reason:n,comment:o,tags:N});case 2:if(l=e.sent,l.successful){e.next=6;break}return e.abrupt("return");case 6:f((0,v.xw)("report post",a,{extra:{origin:i}})),"function"==typeof s&&s(a,{index:r,shouldBlockSource:null===(u=m.current)||void 0===u?void 0:u.checked}),p.onRequestClose(t);case 9:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}();return k(h.y,(0,n.Z)({},p,{isOpen:!0,onReport:P,reasons:C,heading:"Report post",title:null!=a&&a.title?'"'.concat(a.title,'"'):void 0,footer:k(d.X,{ref:m,name:"blockSource",className:"font-normal"},"Don't show posts from ",null==a||null===(t=a.source)||void 0===t?void 0:t.name)}))}const E=N},39638:(e,t,r)=>{r.d(t,{Z:()=>n});const n={checkmark:"Ur6sCRLeLJ0xiAl0Ry8kcA==",label:"_0ta8J6BOiKQx6kRDDsqEHg=="}}}]);