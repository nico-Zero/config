"use strict";(self.webpackChunkextension=self.webpackChunkextension||[]).push([[2562],{92429:(e,t,n)=>{n.d(t,{C:()=>c});var l=n(51911),a=n(44194),i=n(52402),o=n.n(i),r=n(17802),s=n(84153),u=a.createElement,c=function(e){return u(r.ZP,(0,l.Z)({},e,{type:r.NK.Error,title:u("div",{className:"block flex-1","data-testid":"reputationAlert"},"You do not have enough reputation to use this feature yet. However, you can"," ",u(o(),{href:"".concat(s.uJ,"squads/new")},u("a",{className:"font-bold underline"},"create a Squad"))," ","instead where you can share your favorite content , invite your friends and colleagues and a lot more!")}))}},98022:(e,t,n)=>{n.r(t),n.d(t,{default:()=>R});var l,a,i=n(51911),o=n(93309),r=n(53767),s=n(62699),u=n.n(s),c=n(44194),d=n(42135),m=n(86422),f=n(78487),v=n(84187),p=n(40701),b=n(87564),h=n(84153),y=n(32298),g=n(14960),x=n(66022),N=n(91385),S=(0,N.gql)(l||(l=(0,x.Z)(["\n  mutation SubmitArticle($url: String!) {\n    submitArticle(url: $url) {\n      result\n      reason\n      post {\n        id\n        title\n        commentsPermalink\n        image\n        readTime\n        numUpvotes\n        permalink\n        source {\n          id\n          image\n        }\n      }\n      submission {\n        id\n        url\n        userId\n        createdAt\n        status\n        reason\n      }\n    }\n  }\n"]))),w=(0,N.gql)(a||(a=(0,x.Z)(["\n  query SubmissionAvailability {\n    submissionAvailability {\n      hasAccess\n      limit\n      todaySubmissionsCount\n    }\n  }\n"]))),k=n(85121),C=n(57336),P=n(68353),_=n(68425),A=n(17802),E=n(49110),Z=n(49535),z=n(16789),q=n(45557),D=n(92429),U=n(97343),I=n(8421),L=["onRequestClose"],T=c.createElement,M="Something went wrong, try again",F="Community picks";function R(e){var t,n,l=e.onRequestClose,a=(0,r.Z)(e,L),s=(0,c.useRef)(),x=(0,c.useContext)(g.ZP).user,N=(0,d.NL)(),R=(0,c.useContext)(C.ZP).logEvent,W=(0,U.sW)().displayToast,O=(0,c.useState)(!1),H=O[0],j=O[1],J=(0,c.useState)(!1),B=J[0],K=J[1],Y=(0,c.useState)(null),V=Y[0],$=Y[1],Q=(0,c.useState)(),G=Q[0],X=Q[1],ee=["submission_availability",null==x?void 0:x.id],te=(0,m.a)(ee,(function(){return I.Nb.request(w)})),ne=te.data,le=te.isFetched,ae=(ne||{}).submissionAvailability,ie=null==ae?void 0:ae.hasAccess,oe=(0,f.D)((function(e){return I.Nb.request(S,{url:e})})).mutateAsync,re=function(e){R({event_name:"submit article fail",extra:JSON.stringify({reason:e})})},se=function(){var e=(0,o.Z)(u().mark((function e(t){var n,a,i,o,r,s,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=(0,b.x)(t.currentTarget),K(!0),n.articleUrl){e.next=7;break}return X("Please submit a valid URL"),K(!1),e.abrupt("return");case 7:return R({event_name:"submit article",feed_item_title:"Submit article",extra:JSON.stringify({url:null==n?void 0:n.articleUrl})}),e.prev=8,e.next=11,oe(n.articleUrl);case 11:a=e.sent,i=a.submitArticle,o=i.reason,r=void 0===o?M:o,s=i.post,i.submission?((c={submissionAvailability:ae}).submissionAvailability.todaySubmissionsCount+=1,N.setQueryData(ee,c),R({event_name:"submit article succeed"}),W("We will notify you about the post-submission status via email"),l(null)):s?($({post:s}),re("Article exists already")):r&&(X(r),re(r)),e.next=21;break;case 16:e.prev=16,e.t0=e.catch(8),X(M),j(!1),re(M);case 21:return e.prev=21,K(!1),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[8,16,21,24]])})));return function(t){return e.apply(this,arguments)}}();if((0,c.useEffect)((function(){R({event_name:z.gr.StartSubmitArticle,feed_item_title:z.lL.SubmitArticle,extra:JSON.stringify({has_access:!(null==x||!x.canSubmitArticle)})})}),[]),!le)return T(c.Fragment,null);var ue={"aria-label":"Submit",loading:B,disabled:!H||!ie||!!V};return T(E.u_,(0,i.Z)({},a,{kind:E.u_.Kind.FlexibleTop,size:E.u_.Size.Medium,onRequestClose:l,formProps:{form:"submit-article",title:F,rightButtonProps:ue}}),T(E.u_.Header,{title:F}),T(E.u_.Body,null,T("form",{ref:s,id:"submit-article","aria-busy":B,onSubmit:se,className:"flex flex-col gap-5"},T("div",{className:"flex flex-col gap-4"},T("p",{className:"text-text-tertiary typo-callout"},"Found an interesting post? Do you want to share it with the community? Enter the post's URL / link below to add it to the feed."),T("a",{className:"font-bold text-text-link underline typo-callout",target:"_blank",rel:"noopener",href:h.WJ},"Learn more")),T("p",{className:"typo-callout"},"Daily suggestions usedÂ ",null!==(t=null==ae?void 0:ae.todaySubmissionsCount)&&void 0!==t?t:0,"/",null!==(n=null==ae?void 0:ae.limit)&&void 0!==n?n:3),T(y.n,{autoFocus:!0,type:"url",autoComplete:"off",leftIcon:T(P.x,null),rightIcon:ie?void 0:T(_.m,{className:"text-text-disabled"}),fieldType:"tertiary",name:"articleUrl",inputId:"article_url",label:"Post url",disabled:!ie,hint:G,valid:!G,valueChanged:function(){s.current&&(V&&$(null),G&&X(null),j(s.current.checkValidity()))}}),3===(null==ae?void 0:ae.todaySubmissionsCount)&&T(A.ZP,{type:A.NK.Error,title:"You have reached the limit of 3 submissions per day"}),ie&&T(Z.Z,{source:z.Yq.CommunityPicks}),V?null:ie?T(A.ZP,{className:"mt-4",title:"Submission guidelines"},T(A.oM,null,"We want you to submit links that are well thought out, high value and high quality."),T(A.oM,null,"Please do not add your own posts, promotional content, clickbait etc. Additionally, redirected or shortened URLs will be rejected, please submit the full and final URL."),T(A.oM,null,"For more details see our"," ",T("a",{className:"text-text-link hover:underline",href:h.L5,target:"_blank",rel:"noopener"},"content guidelines"))):T(D.C,null))),V&&T("div",{className:"w-full"},T("h4",{className:"mb-2 pl-6 font-bold typo-callout"},"Article exists"),T(k.Z,{postItem:V,showButtons:!1})),T(E.u_.Footer,{justify:q.WD.End},T(v.zx,(0,i.Z)({},ue,{variant:p.Wu.Primary,type:"submit",form:"submit-article",loading:B}),"Submit")))}},85121:(e,t,n)=>{n.d(t,{Z:()=>z});var l=n(44194),a=n(83849),i=n.n(a),o=n(52402),r=n.n(o),s=n(45794),u=n(1057),c=n(70944),d=n(16186),m=n(12122),f=n(58519),v=n(45405),p=n(54480),b=n(94789),h=n(44678),y=n(83235),g=n(42135),x=n(14960),N=n(84663),S=n(5041),w=n(59036),k=function(){var e=(0,g.NL)(),t=(0,l.useContext)(x.ZP).user;return(0,S.U)({variables:{key:N.dt.ReadingHistory},onMutate:function(n){var l=n.id,a=n.vote,i=e.getQueryData((0,N.e0)(N.dt.ReadingHistory,t));return(0,w.i)({id:l,vote:a,data:i,user:t,queryClient:e})}})},C=n(16789),P=n(84187),_=n(40701),A=n(30413),E=l.createElement,Z=(0,f.Z)("div","absolute left-5 -my-1 w-8 h-8 rounded-full bg-background-default");function z(e){var t,n,a,o,f,g=e.postItem,x=e.showButtons,N=void 0===x||x,S=e.clickable,w=void 0===S||S,z=e.onHide,q=e.className,D=e.onContextMenu,U=e.showVoteActions,I=void 0!==U&&U,L=e.logOrigin,T=void 0===L?C.aP.Feed:L,M=g.timestampDb,F=g.post,R=null!==(t=null==F?void 0:F.sharedPost)&&void 0!==t?t:F,W=k(),O=W.toggleUpvote,H=W.toggleDownvote,j=i()("relative flex w-full flex-row py-3 pl-9 pr-5",I?"items-start tablet:items-center":"items-center",w&&"hover:cursor-pointer hover:bg-surface-hover",q);return E("article",{className:i()(!w&&j)},E(h.Z,{condition:w,wrapper:function(e){return E(r(),{href:F.commentsPermalink},E("a",{className:j,title:"Go to post"},e))}},E(l.Fragment,null,E(b.E,{src:R.image,alt:F.title,className:"h-16 w-16 rounded-16 object-cover laptop:w-24",loading:"lazy",fallbackSrc:y.n.post.imageCoverPlaceholder}),E(Z,{className:I&&"top-8"}),E(p.YY,{size:p.$C.Small,rounded:"full",className:i()("absolute left-6",I&&"top-8"),user:{image:F.source.image,username:"source of ".concat(F.title)},nativeLazyLoading:!0}),E("div",{className:i()("flex flex-1",I?"flex-col tablet:flex-row":"items-center")},E("div",{className:"ml-4 flex flex-1 flex-col"},E("h3",{className:"mr-6 line-clamp-2 flex flex-1 break-words text-left typo-callout"},F.title),E(v.Z,{readTime:F.readTime,numUpvotes:F.numUpvotes,isVideoType:(0,s.AD)(F)})),E("div",{className:"ml-4 mt-1 flex tablet:ml-0 tablet:mt-1"},N&&I&&E(l.Fragment,null,E(P.zx,{size:_.qE.Small,variant:_.Wu.Tertiary,color:I?A.S.Avocado:void 0,className:I?"flex":"hidden laptop:flex",pressed:(null==F||null===(n=F.userState)||void 0===n?void 0:n.vote)===s.hn.Up,onClick:function(e){e.preventDefault(),O({payload:F,origin:T})},icon:E(u.o,{secondary:(null==F||null===(a=F.userState)||void 0===a?void 0:a.vote)===s.hn.Up})}),E(P.zx,{size:_.qE.Small,variant:_.Wu.Tertiary,color:I?A.S.Ketchup:void 0,className:I?"flex":"hidden laptop:flex",pressed:(null==F||null===(o=F.userState)||void 0===o?void 0:o.vote)===s.hn.Down,onClick:function(e){e.preventDefault(),H({payload:F,origin:T})},icon:E(c.I,{secondary:(null==F||null===(f=F.userState)||void 0===f?void 0:f.vote)===s.hn.Down})})),N&&!I&&z&&E(P.zx,{size:_.qE.Small,variant:_.Wu.Tertiary,className:"hidden laptop:flex",icon:E(d.q,null),onClick:function(e){e.stopPropagation(),e.preventDefault(),z({postId:F.id,timestamp:M})}}),N&&E(P.zx,{variant:_.Wu.Tertiary,"data-testid":"post-item-".concat(F.id),icon:E(m.O,null),onClick:function(e){e.stopPropagation(),e.preventDefault(),D(e,g)},size:_.qE.Small}))))))}},17802:(e,t,n)=>{n.d(t,{oM:()=>N,NK:()=>m,ZP:()=>S});var l,a,i=n(44194),o=n(83849),r=n.n(o),s=n(51911),u=n(99128);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},c.apply(this,arguments)}const d=function(e){return i.createElement("svg",c({width:"1em",height:"1em",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),l||(l=i.createElement("defs",null,i.createElement("clipPath",{id:"outlined_svg__a"},i.createElement("path",{fill:"currentcolor",d:"M11.541.514a4 4 0 011.4 1.317l.126.209 5.58 9.92a4 4 0 01-3.23 5.953l-.256.008H4a4 4 0 01-3.605-5.733l.119-.228 5.58-9.92A4 4 0 0111.541.514zM7.92 2.887l-.082.133-5.58 9.92a2 2 0 001.594 2.976L4 15.92h11.16a2 2 0 001.815-2.841l-.071-.14-5.58-9.92a2 2 0 00-3.405-.133zM9.58 11.92a1 1 0 110 2 1 1 0 010-2zm0-7a1 1 0 011 1v4a1 1 0 11-2 0v-4a1 1 0 011-1z"})))),a||(a=i.createElement("g",{clipPath:"url(#outlined_svg__a)",fill:"currentcolor",transform:"translate(2.42 3.079)"},i.createElement("path",{d:"M0 0h19.161v17.921H0V0z"}))))};var m,f=i.createElement,v=n(6839),p=n(74077),b=n(58519),h=i.createElement;!function(e){e.Info="info",e.Error="error",e.Success="success"}(m||(m={}));var y={info:"text-accent-bun-default",error:"text-status-error",success:"text-status-success"},g={info:"border-l-accent-bun-default",error:"border-l-status-error",success:"border-l-status-success"},x={info:v.A,error:function(e){return f(u.ZP,(0,s.Z)({},e,{IconPrimary:d,IconSecondary:d}))},success:p.t},N=(0,b.Z)("p","typo-callout mt-3");const S=function(e){var t=e.className,n=e.title,l=e.children,a=e.type,i=void 0===a?m.Info:a,o=e.flexDirection,s=void 0===o?"flex-col":o,c=x[i];return h("div",{className:r()("flex border border-l-4 border-theme-active p-3",s,g[i],l?"rounded-16":"rounded-12",t)},h("span",{className:"flex flex-row items-center"},h(c,{size:u.Jh.Small,className:r()("mr-2",y[i])}),h("span",{className:r()("flex flex-1 typo-callout",l&&"font-bold",l&&y[i])},n)),l)}}}]);