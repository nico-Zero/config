"use strict";(self.webpackChunkextension=self.webpackChunkextension||[]).push([[8569],{36623:(e,t,n)=>{n.r(t),n.d(t,{UserSettingsModal:()=>ae,default:()=>oe});var a,o=n(51911),r=n(53767),l=n(44194),c=n(49110),s=n(83849),i=n.n(s),u=n(58519),m=n(57486),g=n(9392),h=n(82703),f=n(99128);function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},p.apply(this,arguments)}const d=function(e){return l.createElement("svg",p({width:"1em",height:"1em",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),a||(a=l.createElement("path",{d:"M7.833 13a3.167 3.167 0 013.162 2.987l.005.18v1.666a3.167 3.167 0 01-2.987 3.162l-.18.005H6.167a3.167 3.167 0 01-3.162-2.987L3 17.833v-1.666a3.167 3.167 0 012.987-3.162l.18-.005h1.666zm10 0a3.167 3.167 0 013.162 2.987l.005.18v1.666a3.167 3.167 0 01-2.987 3.162l-.18.005h-1.666a3.167 3.167 0 01-3.162-2.987l-.005-.18v-1.666a3.167 3.167 0 012.987-3.162l.18-.005h1.666zm-10 1.5H6.167c-.872 0-1.588.67-1.66 1.523l-.007.144v1.666c0 .872.67 1.588 1.523 1.66l.144.007h1.666l.144-.006a1.667 1.667 0 001.516-1.509l.007-.152v-1.666c0-.872-.67-1.588-1.523-1.66l-.144-.007zm10 0h-1.666c-.872 0-1.588.67-1.66 1.523l-.007.144v1.666c0 .872.67 1.588 1.523 1.66l.144.007h1.666l.144-.006a1.667 1.667 0 001.516-1.509l.007-.152v-1.666c0-.872-.67-1.588-1.523-1.66l-.144-.007zM7.833 3a3.167 3.167 0 013.162 2.987l.005.18v1.666a3.167 3.167 0 01-2.987 3.162l-.18.005H6.167a3.167 3.167 0 01-3.162-2.987L3 7.833V6.167a3.167 3.167 0 012.987-3.162L6.167 3h1.666zm10 0a3.167 3.167 0 013.162 2.987l.005.18v1.666a3.167 3.167 0 01-2.987 3.162l-.18.005h-1.666a3.167 3.167 0 01-3.162-2.987L13 7.833V6.167a3.167 3.167 0 012.987-3.162l.18-.005h1.666zm-10 1.5H6.167c-.872 0-1.588.67-1.66 1.523l-.007.144v1.666c0 .872.67 1.588 1.523 1.66l.144.007h1.666l.144-.006a1.667 1.667 0 001.516-1.509l.007-.152V6.167c0-.872-.67-1.588-1.523-1.66L7.833 4.5zm10 0h-1.666c-.872 0-1.588.67-1.66 1.523l-.007.144v1.666c0 .872.67 1.588 1.523 1.66l.144.007h1.666l.144-.006a1.667 1.667 0 001.516-1.509l.007-.152V6.167c0-.872-.67-1.588-1.523-1.66l-.144-.007z",fill:"currentcolor",fillRule:"evenodd"})))};var v;function b(){return b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},b.apply(this,arguments)}const y=function(e){return l.createElement("svg",b({width:"1em",height:"1em",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),v||(v=l.createElement("path",{d:"M8 14H6a2 2 0 00-1.993 1.827L4 16v2a2 2 0 001.827 1.993L6 20h2l.173-.007a2 2 0 001.819-1.81L10 18v-2a2 2 0 00-1.827-1.993L8 14zm10 0h-2a2 2 0 00-1.993 1.827L14 16v2a2 2 0 001.827 1.993L16 20h2l.173-.007a2 2 0 001.819-1.81L20 18v-2a2 2 0 00-1.827-1.993L18 14zM8 4H6a2 2 0 00-1.993 1.827L4 6v2a2 2 0 001.827 1.993L6 10h2l.173-.007a2 2 0 001.819-1.81L10 8V6a2 2 0 00-1.827-1.993L8 4zm10 0h-2a2 2 0 00-1.993 1.827L14 6v2a2 2 0 001.827 1.993L16 10h2l.173-.007a2 2 0 001.819-1.81L20 8V6a2 2 0 00-1.827-1.993L18 4z",fill:"currentcolor",fillRule:"evenodd"})))};var w,O=l.createElement,x=function(e){return O(f.ZP,(0,o.Z)({},e,{IconPrimary:d,IconSecondary:y}))};function L(){return L=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},L.apply(this,arguments)}const z=function(e){return l.createElement("svg",L({width:"1em",height:"1em",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),w||(w=l.createElement("path",{d:"M5 5.75a1 1 0 110 2 1 1 0 010-2zM9.75 6h9.5a.75.75 0 110 1.5h-9.5a.75.75 0 010-1.5zm-5 5h14.5a.75.75 0 110 1.5H4.75a.75.75 0 110-1.5zm0 5h14.5a.75.75 0 110 1.5H4.75a.75.75 0 110-1.5z",fill:"currentcolor",fillRule:"evenodd"})))};var C;function k(){return k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},k.apply(this,arguments)}const N=function(e){return l.createElement("svg",k({width:"1em",height:"1em",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),C||(C=l.createElement("path",{d:"M19 16a1 1 0 01.117 1.993L19 18H5a1 1 0 01-.117-1.993L5 16h14zm0-5a1 1 0 01.117 1.993L19 13H5a1 1 0 01-.117-1.993L5 11h14zM5 6a1 1 0 110 2 1 1 0 010-2zm14 0a1 1 0 01.117 1.993L19 8h-9a1 1 0 01-.117-1.993L10 6h9z",fill:"currentcolor",fillRule:"evenodd"})))};var E=l.createElement,j=function(e){return E(f.ZP,(0,o.Z)({},e,{IconPrimary:z,IconSecondary:N}))};const S={knob:"pC7qPQgBxYa1kns0GxtmqA=="};var P=l.createElement,Z=(0,u.Z)("span","relative flex items-center justify-center z-2 px-3"),T="transform transition-transform text-base",M="text-text-tertiary",R="scale-125";function _(e){var t=e.className,n=e.inputId,a=e.name,o=e.checked,r=e.onToggle,c=e.leftContent,s=e.rightContent,u=(0,l.useRef)(),m=(0,l.useRef)(),g=(0,l.useState)(0),h=g[0],f=g[1],p=(0,l.useState)(0),d=p[0],v=p[1];(0,l.useEffect)((function(){if(null!=u&&u.current&&null!=m&&m.current){var e=u.current.getBoundingClientRect().width;f(e);var t=m.current.getBoundingClientRect().width;v(t)}}),[null==u?void 0:u.current,null==m?void 0:m.current]);var b=i()(T,o?M:R),y=i()(T,o?R:M),w=o?d:h,O=Math.abs(d-h);return P("label",{className:i()("group relative flex h-9 w-fit cursor-pointer font-bold typo-callout",t),htmlFor:n},P("input",{id:n,name:a,type:"checkbox",className:"absolute size-0 opacity-0",checked:o,onChange:r}),P(Z,{ref:u,className:o&&"text-text-tertiary"},"string"==typeof c?c:l.cloneElement(c,{className:i()(c.props.className,b)})),P(Z,{ref:m,className:!o&&"text-text-tertiary"},"string"==typeof s?s:l.cloneElement(s,{className:i()(s.props.className,y)})),P("span",{className:"absolute inset-0 my-auto h-7 rounded-10 bg-accent-cabbage-bolder opacity-24 group-hover:opacity-32"}),P("span",{className:i()("absolute top-0 z-1 h-full rounded-12",S.knob),style:{width:"".concat(w,"px"),transform:o?"translateX(calc(100% + ".concat(O,"px))"):"translateX(0)"}}))}var H=n(58022),I=n(14960),B=n(31329),D=n(62916),V=n(16789),q=n(57336),A=["name","children"],Y=["className"],F=l.createElement,U=[{label:"Eco",value:"eco"},{label:"Roomy",value:"roomy"},{label:"Cozy",value:"cozy"}],X=(0,u.Z)("section","flex flex-col font-bold mt-6"),G=(0,u.Z)("h3","text-text-tertiary mb-4 font-bold typo-footnote"),J=(0,u.Z)("div","flex flex-col items-start pl-1.5 -my-0.5"),K=function(e){var t=e.name,n=e.children,a=(0,r.Z)(e,A);return F(g.r,(0,o.Z)({inputId:"".concat(t,"-switch"),name:t,className:"my-3",compact:!1},a),n)};function Q(e){var t=e.className,n=(0,r.Z)(e,Y),a=(0,H.Uv)(),c=(0,l.useContext)(I.ZP),s=c.user,u=c.showLogin,g=(0,D.V)(D.d.Laptop),f=(0,l.useContext)(h.ZP),p=f.spaciness,d=f.setSpaciness,v=f.themeMode,b=f.setTheme,y=f.openNewTab,w=f.toggleOpenNewTab,O=f.insaneMode,L=f.toggleInsaneMode,z=f.showTopSites,C=f.toggleShowTopSites,k=f.sortingEnabled,N=f.toggleSortingEnabled,E=f.optOutCompanion,S=f.toggleOptOutCompanion,P=f.autoDismissNotifications,Z=f.toggleAutoDismissNotifications,T=f.optOutReadingStreak,M=f.toggleOptOutReadingStreak,R=(0,q.fv)().logEvent,A=(0,l.useState)(h.np),Q=A[0],W=A[1];(0,l.useEffect)((function(){if(window&&!window.matchMedia("(prefers-color-scheme: dark)")){var e=Q.filter((function(e){return"auto"!==e.value}));W(e)}}),[]);var $=(0,l.useCallback)((function(e){return R({event_name:V.gr.ChangeSettings,target_type:V.Lm.Theme,target_id:e}),b(e)}),[R,b]),ee=(0,l.useCallback)((function(){return R({event_name:V.gr.ChangeSettings,target_type:V.Lm.Layout,target_id:O?V.LT.Cards:V.LT.List}),L()}),[O,R,L]);return F("div",(0,o.Z)({className:i()("flex","flex-col",t)},n),g&&F(X,{className:"!mt-0"},F(G,null,"Layout"),F(_,{inputId:"layout-switch",name:"insaneMode",leftContent:F(x,{secondary:!O}),rightContent:F(j,{secondary:O}),checked:O,className:"mx-1.5",onToggle:ee})),F(X,{className:!g&&"!mt-0"},F(G,null,"Theme"),F(m.Y,{name:"theme",options:Q,value:v,onChange:$})),g&&F(X,null,F(G,null,"Density"),F(m.Y,{name:"density",options:U,value:p,onChange:d,tooltip:O&&{content:"Density will be fixed for the list mode layout",placement:"top-start"},disabled:O})),F(X,null,F(G,null,"Preferences"),F(J,null,F(K,{name:"reading-streaks",checked:!T,onToggle:function(){return function(e){if(s)return e();u({trigger:B.IP.Settings})}(M)}},"Show reading streaks"),F(K,{name:"new-tab",checked:y,onToggle:w},"Open links in new tab"),a&&F(K,{name:"top-sites",checked:z,onToggle:C},"Show custom shortcuts"),F(K,{name:"feed-sorting",checked:k,onToggle:N},"Show feed sorting menu"),F(K,{name:"hide-companion",checked:!E,onToggle:S},"Enable companion"))),F(X,null,F(G,null,"Accessibility"),F(J,null,F(K,{name:"auto-dismiss-notifications",checked:P,onToggle:Z},"Automatically dismiss notifications"))))}var W=n(28076);function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ee(e){var t=e.isOpen,n=e.title,a=e.trigger,o=(0,l.useContext)(q.ZP).logEvent;(0,l.useEffect)((function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){(0,W.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({event_name:"".concat(t?"open":"close"," ").concat(n)},a&&{extra:JSON.stringify({trigger:a})});if(o(e),!0===t)return function(){e.event_name="close ".concat(n),o(e)}}),[t])}var te=["onRequestClose"],ne=l.createElement;function ae(e){var t=e.onRequestClose,n=(0,r.Z)(e,te);return ee({isOpen:n.isOpen,title:"feed settings"}),ne(c.u_,(0,o.Z)({kind:c.u_.Kind.FlexibleCenter,size:c.u_.Size.Small,onRequestClose:t},n),ne(c.u_.Header,{title:"Customize"}),ne(c.u_.Body,null,ne(Q,null)))}const oe=ae}}]);